!function(){var n={};!function(n){"use strict";n["Control.Apply"]=n["Control.Apply"]||{};var t=n["Control.Apply"];t.Apply=function(n,t){this.Functor0=n,this.apply=t},t.apply=function(n){return n.apply}}(n),function(n){"use strict";n["Control.Applicative"]=n["Control.Applicative"]||{};var t=n["Control.Applicative"],e=n["Control.Apply"],r=function(n){return n.pure};t.Applicative=function(n,t){this.Apply0=n,this.pure=t},t.pure=r,t.liftA1=function(n){return function(t){return function(a){return e.apply(n.Apply0())(r(n)(t))(a)}}}}(n),function(n){"use strict";n["Control.Bind"]=n["Control.Bind"]||{};var t=n["Control.Bind"];t.Bind=function(n,t){this.Apply0=n,this.bind=t},t.bind=function(n){return n.bind}}(n),function(n){"use strict";n["Control.Semigroupoid"]=n["Control.Semigroupoid"]||{};var t=n["Control.Semigroupoid"],e=new function(n){this.compose=n}((function(n){return function(t){return function(e){return n(t(e))}}}));t.semigroupoidFn=e}(n),function(n){"use strict";n["Control.Category"]=n["Control.Category"]||{};var t=n["Control.Category"],e=n["Control.Semigroupoid"],r=new function(n,t){this.Semigroupoid0=n,this.identity=t}((function(){return e.semigroupoidFn}),(function(n){return n}));t.identity=function(n){return n.identity},t.categoryFn=r}(n),function(n){"use strict";n["Control.Monad"]=n["Control.Monad"]||{};var t=n["Control.Monad"],e=n["Control.Applicative"],r=n["Control.Bind"];t.Monad=function(n,t){this.Applicative0=n,this.Bind1=t},t.ap=function(n){return function(t){return function(a){return r.bind(n.Bind1())(t)((function(t){return r.bind(n.Bind1())(a)((function(r){return e.pure(n.Applicative0())(t(r))}))}))}}}}(n),function(n){"use strict";n["Control.Monad.Reader.Class"]=n["Control.Monad.Reader.Class"]||{};var t=n["Control.Monad.Reader.Class"];t.ask=function(n){return n.ask},t.MonadAsk=function(n,t){this.Monad0=n,this.ask=t}}(n),function(n){"use strict";n["Control.Monad.Trans.Class"]=n["Control.Monad.Trans.Class"]||{};var t=n["Control.Monad.Trans.Class"];t.lift=function(n){return n.lift},t.MonadTrans=function(n){this.lift=n}}(n),function(n){"use strict";n["Data.Function"]=n["Data.Function"]||{};n["Data.Function"].const=function(n){return function(t){return n}}}(n),function(n){"use strict";n.unit={}}(n["Data.Unit"]=n["Data.Unit"]||{}),function(n){"use strict";n["Data.Unit"]=n["Data.Unit"]||{};var t=n["Data.Unit"],e=n["Data.Unit"];t.unit=e.unit}(n),function(n){"use strict";n["Data.Functor"]=n["Data.Functor"]||{};var t=n["Data.Functor"],e=n["Data.Function"],r=n["Data.Unit"],a=function(n){return n.map};t.Functor=function(n){this.map=n},t.map=a,t.mapFlipped=function(n){return function(t){return function(e){return a(n)(e)(t)}}},t.void=function(n){return a(n)(e.const(r.unit))}}(n),function(n){"use strict";n.pureE=function(n){return function(){return n}},n.bindE=function(n){return function(t){return function(){return t(n())()}}}}(n.Effect=n.Effect||{}),function(n){"use strict";n.Effect=n.Effect||{};var t=n.Effect,e=n.Effect,r=n["Control.Applicative"],a=n["Control.Apply"],u=n["Control.Bind"],i=n["Control.Monad"],o=n["Data.Functor"],c=new i.Monad((function(){return f}),(function(){return s})),s=new u.Bind((function(){return l}),e.bindE),l=new a.Apply((function(){return d}),i.ap(c)),f=new r.Applicative((function(){return l}),e.pureE),d=new o.Functor(r.liftA1(f));t.functorEffect=d,t.applicativeEffect=f,t.bindEffect=s,t.monadEffect=c}(n),function(n){"use strict";n["Effect.Class"]=n["Effect.Class"]||{};var t=n["Effect.Class"],e=n["Control.Category"],r=n.Effect,a=function(n,t){this.Monad0=n,this.liftEffect=t},u=new a((function(){return r.monadEffect}),e.identity(e.categoryFn));t.liftEffect=function(n){return n.liftEffect},t.MonadEffect=a,t.monadEffectEffect=u}(n),function(n){"use strict";n["Control.Monad.Reader.Trans"]=n["Control.Monad.Reader.Trans"]||{};var t=n["Control.Monad.Reader.Trans"],e=n["Control.Applicative"],r=n["Control.Apply"],a=n["Control.Bind"],u=n["Control.Monad"],i=n["Control.Monad.Reader.Class"],o=n["Control.Monad.Trans.Class"],c=n["Data.Function"],s=n["Data.Functor"],l=n["Effect.Class"],f=new o.MonadTrans((function(n){return function(n){return c.const(n)}})),d=function(n){return new r.Apply((function(){return t=n.Functor0(),new s.Functor((e=s.map(t),function(n){return t=e(n),function(n){return function(e){return t(n(e))}};var t}));var t,e}),(function(t){return function(e){return function(a){return r.apply(n)(t(a))(e(a))}}}))},p=function(n){return new a.Bind((function(){return d(n.Apply0())}),(function(t){return function(e){return function(r){return a.bind(n)(t(r))((function(n){return e(n)(r)}))}}}))},v=function(n){return new e.Applicative((function(){return d(n.Apply0())}),(t=e.pure(n),function(n){return c.const(t(n))}));var t},h=function(n){return new u.Monad((function(){return v(n.Applicative0())}),(function(){return p(n.Bind1())}))};t.runReaderT=function(n){return n},t.applicativeReaderT=v,t.bindReaderT=p,t.monadEffectReader=function(n){return new l.MonadEffect((function(){return h(n.Monad0())}),(t=o.lift(f)(n.Monad0()),e=l.liftEffect(n),function(n){return t(e(n))}));var t,e},t.monadAskReaderT=function(n){return new i.MonadAsk((function(){return h(n)}),e.pure(n.Applicative0()))}}(n),function(n){"use strict";n.length=function(n){return n.length},n.snoc=function(n){return function(t){var e=n.slice();return e.push(t),e}},n.indexImpl=function(n){return function(t){return function(e){return function(r){return r<0||r>=e.length?t:n(e[r])}}}}}(n["Data.Array"]=n["Data.Array"]||{}),function(n){"use strict";n["Data.Maybe"]=n["Data.Maybe"]||{};var t=n["Data.Maybe"],e=function(){function n(){}return n.value=new n,n}(),r=function(){function n(n){this.value0=n}return n.create=function(t){return new n(t)},n}();t.Nothing=e,t.Just=r}(n),function(n){"use strict";n["Data.Array"]=n["Data.Array"]||{};var t=n["Data.Array"],e=n["Data.Array"],r=n["Data.Maybe"],a=e.indexImpl(r.Just.create)(r.Nothing.value);t.index=a,t.length=e.length,t.snoc=e.snoc}(n),function(n){"use strict";n.topInt=2147483647,n.bottomInt=-2147483648,n.topChar=String.fromCharCode(65535),n.bottomChar=String.fromCharCode(0)}(n["Data.Bounded"]=n["Data.Bounded"]||{}),function(n){"use strict";var t=function(n){return function(t){return function(e){return function(r){return function(a){return r<a?n:r===a?t:e}}}}};n.ordIntImpl=t,n.ordCharImpl=t}(n["Data.Ord"]=n["Data.Ord"]||{}),function(n){"use strict";var t=function(n){return function(t){return n===t}};n.eqIntImpl=t,n.eqCharImpl=t}(n["Data.Eq"]=n["Data.Eq"]||{}),function(n){"use strict";n["Data.Eq"]=n["Data.Eq"]||{};var t=n["Data.Eq"],e=n["Data.Eq"],r=function(n){this.eq=n},a=new r(e.eqIntImpl),u=new r(e.eqCharImpl);t.Eq=r,t.eq=function(n){return n.eq},t.eqInt=a,t.eqChar=u}(n),function(n){"use strict";n["Data.Ordering"]=n["Data.Ordering"]||{};var t=n["Data.Ordering"],e=function(){function n(){}return n.value=new n,n}(),r=function(){function n(){}return n.value=new n,n}(),a=function(){function n(){}return n.value=new n,n}();t.LT=e,t.GT=r,t.EQ=a}(n),function(n){"use strict";n["Data.Ord"]=n["Data.Ord"]||{};var t=n["Data.Ord"],e=n["Data.Ord"],r=n["Data.Eq"],a=n["Data.Ordering"],u=function(n,t){this.Eq0=n,this.compare=t},i=new u((function(){return r.eqInt}),e.ordIntImpl(a.LT.value)(a.EQ.value)(a.GT.value)),o=new u((function(){return r.eqChar}),e.ordCharImpl(a.LT.value)(a.EQ.value)(a.GT.value));t.ordInt=i,t.ordChar=o}(n),function(n){"use strict";n["Data.Bounded"]=n["Data.Bounded"]||{};var t=n["Data.Bounded"],e=n["Data.Bounded"],r=n["Data.Ord"],a=function(n,t,e){this.Ord0=n,this.bottom=t,this.top=e},u=new a((function(){return r.ordInt}),e.bottomInt,e.topInt),i=new a((function(){return r.ordChar}),e.bottomChar,e.topChar);t.bottom=function(n){return n.bottom},t.top=function(n){return n.top},t.boundedInt=u,t.boundedChar=i}(n),function(n){"use strict";n.toCharCode=function(n){return n.charCodeAt(0)},n.fromCharCode=function(n){return String.fromCharCode(n)}}(n["Data.Enum"]=n["Data.Enum"]||{}),function(n){"use strict";n["Data.Enum"]=n["Data.Enum"]||{};var t,e=n["Data.Enum"],r=n["Data.Enum"],a=n["Data.Bounded"],u=n["Data.Maybe"],i=n["Data.Ord"],o=function(n){return n>=a.bottom(a.boundedInt)&&n<=a.top(a.boundedInt)?new u.Just(r.fromCharCode(n)):u.Nothing.value},c=new function(n,t,e){this.Ord0=n,this.pred=t,this.succ=e}((function(){return i.ordChar}),(t=o,function(n){return function(e){return t(n(e)-1|0)}})(r.toCharCode),function(n){return function(t){return function(e){return n(t(e)+1|0)}}}(o)(r.toCharCode)),s=new function(n,t,e,r,a){this.Bounded0=n,this.Enum1=t,this.cardinality=e,this.fromEnum=r,this.toEnum=a}((function(){return a.boundedChar}),(function(){return c}),r.toCharCode(a.top(a.boundedChar))-r.toCharCode(a.bottom(a.boundedChar))|0,r.toCharCode,o);e.fromEnum=function(n){return n.fromEnum},e.boundedEnumChar=s}(n),function(n){"use strict";n["Data.Char"]=n["Data.Char"]||{};var t=n["Data.Char"],e=n["Data.Enum"],r=e.fromEnum(e.boundedEnumChar);t.toCharCode=r}(n),function(n){"use strict";n["Data.Either"]=n["Data.Either"]||{};var t=n["Data.Either"],e=function(){function n(n){this.value0=n}return n.create=function(t){return new n(t)},n}(),r=function(){function n(n){this.value0=n}return n.create=function(t){return new n(t)},n}();t.Left=e,t.Right=r,t.fromRight=function(n){return function(n){if(n instanceof r)return n.value0;throw new Error("Failed pattern match at Data.Either (line 261, column 1 - line 261, column 52): "+[n.constructor.name])}}}(n),function(n){"use strict";n.foldrArray=function(n){return function(t){return function(e){for(var r=t,a=e.length-1;a>=0;a--)r=n(e[a])(r);return r}}},n.foldlArray=function(n){return function(t){return function(e){for(var r=t,a=e.length,u=0;u<a;u++)r=n(r)(e[u]);return r}}}}(n["Data.Foldable"]=n["Data.Foldable"]||{}),function(n){"use strict";n["Data.Monoid"]=n["Data.Monoid"]||{};n["Data.Monoid"].mempty=function(n){return n.mempty}}(n),function(n){"use strict";n["Data.Semigroup"]=n["Data.Semigroup"]||{};n["Data.Semigroup"].append=function(n){return n.append}}(n),function(n){"use strict";n["Data.Foldable"]=n["Data.Foldable"]||{};var t=n["Data.Foldable"],e=n["Data.Foldable"],r=n["Data.Monoid"],a=n["Data.Semigroup"],u=function(n){return n.foldr},i=new function(n,t,e){this.foldMap=n,this.foldl=t,this.foldr=e}((function(n){return(t=i,function(n){return function(e){return u(t)((function(t){return function(r){return a.append(n.Semigroup0())(e(t))(r)}}))(r.mempty(n))}})(n);var t}),e.foldlArray,e.foldrArray);t.foldr=u,t.foldableArray=i}(n),function(n){"use strict";n.toStringAs=function(n){return function(t){return t.toString(n)}}}(n["Data.Int"]=n["Data.Int"]||{}),function(n){"use strict";n["Data.Int"]=n["Data.Int"]||{};var t=n["Data.Int"],e=n["Data.Int"];t.base36=36,t.toStringAs=e.toStringAs}(n),function(n){"use strict";n.defer=function(n){var t=null;return function(){return void 0===n||(t=n(),n=void 0),t}},n.force=function(n){return n()}}(n["Data.Lazy"]=n["Data.Lazy"]||{}),function(n){"use strict";n["Data.Lazy"]=n["Data.Lazy"]||{};var t=n["Data.Lazy"],e=n["Data.Lazy"];t.defer=e.defer,t.force=e.force}(n),function(n){"use strict";n.null=null,n.nullable=function(n,t,e){return null==n?t:e(n)}}(n["Data.Nullable"]=n["Data.Nullable"]||{}),function(n){"use strict";n["Data.Nullable"]=n["Data.Nullable"]||{};var t=n["Data.Nullable"],e=n["Data.Nullable"],r=n["Data.Maybe"];t.toMaybe=function(n){return e.nullable(n,r.Nothing.value,r.Just.create)},t.null=e.null}(n),function(n){"use strict";n.showIntImpl=function(n){return n.toString()}}(n["Data.Show"]=n["Data.Show"]||{}),function(n){"use strict";n["Data.Show"]=n["Data.Show"]||{};var t=n["Data.Show"],e=new function(n){this.show=n}(n["Data.Show"].showIntImpl);t.show=function(n){return n.show},t.showInt=e}(n),function(n){"use strict";n.toCharArray=function(n){return n.split("")}}(n["Data.String.CodeUnits"]=n["Data.String.CodeUnits"]||{}),function(n){"use strict";n["Data.String.CodeUnits"]=n["Data.String.CodeUnits"]||{};var t=n["Data.String.CodeUnits"],e=n["Data.String.CodeUnits"];t.toCharArray=e.toCharArray}(n),function(n){"use strict";n.replaceAll=function(n){return function(t){return function(e){return e.replace(new RegExp(n.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"),"g"),t)}}},n.trim=function(n){return n.trim()},n.joinWith=function(n){return function(t){return t.join(n)}}}(n["Data.String.Common"]=n["Data.String.Common"]||{}),function(n){"use strict";n["Data.String.Common"]=n["Data.String.Common"]||{};var t=n["Data.String.Common"],e=n["Data.String.Common"];t.replaceAll=e.replaceAll,t.trim=e.trim,t.joinWith=e.joinWith}(n),function(n){"use strict";n.regexImpl=function(n){return function(t){return function(e){return function(r){try{return t(new RegExp(e,r))}catch(t){return n(t.message)}}}}},n.replace=function(n){return function(t){return function(e){return e.replace(n,t)}}}}(n["Data.String.Regex"]=n["Data.String.Regex"]||{}),function(n){"use strict";n["Data.String.Regex"]=n["Data.String.Regex"]||{};var t=n["Data.String.Regex"],e=n["Data.String.Regex"],r=n["Data.Either"];t.regex=function(n){return function(t){return e.regexImpl(r.Left.create)(r.Right.create)(n)(((a=t).value0.global?"g":"")+(a.value0.ignoreCase?"i":"")+(a.value0.multiline?"m":"")+(a.value0.sticky?"y":"")+(a.value0.unicode?"u":""));var a}},t.replace=e.replace}(n),function(n){"use strict";n["Data.String.Regex.Flags"]=n["Data.String.Regex.Flags"]||{};var t=n["Data.String.Regex.Flags"],e=new(function(){function n(n){this.value0=n}return n.create=function(t){return new n(t)},n}())({global:!0,ignoreCase:!1,multiline:!1,sticky:!1,unicode:!1});t.global=e}(n),function(n){"use strict";n["Data.String.Regex.Unsafe"]=n["Data.String.Regex.Unsafe"]||{};var t=n["Data.String.Regex.Unsafe"],e=n["Data.Either"],r=n["Data.String.Regex"];t.unsafeRegex=function(n){return function(t){return e.fromRight()(r.regex(n)(t))}}}(n),function(n){"use strict";n["Data.Tuple"]=n["Data.Tuple"]||{};var t=n["Data.Tuple"],e=function(){function n(n,t){this.value0=n,this.value1=t}return n.create=function(t){return function(e){return new n(t,e)}},n}();t.Tuple=e,t.fst=function(n){return n.value0}}(n),function(n){"use strict";n.error=function(n){return new Error(n)},n.throwException=function(n){return function(){throw n}}}(n["Effect.Exception"]=n["Effect.Exception"]||{}),function(n){"use strict";n["Effect.Exception"]=n["Effect.Exception"]||{};var t=n["Effect.Exception"],e=n["Effect.Exception"];t.throw=function(n){return e.throwException(e.error(n))}}(n),function(n){"use strict";n.unsafeToForeign=function(n){return n},n.unsafeFromForeign=function(n){return n}}(n.Foreign=n.Foreign||{}),function(n){"use strict";n.Foreign=n.Foreign||{};var t=n.Foreign,e=n.Foreign;t.unsafeToForeign=e.unsafeToForeign,t.unsafeFromForeign=e.unsafeFromForeign}(n),function(n){"use strict";n["Grain.Class.LProxy"]=n["Grain.Class.LProxy"]||{};var t=n["Grain.Class.LProxy"],e=function(){function n(){}return n.value=new n,n}();t.LProxy=e,t.LocalGrain=function(n,t){this.initialState=n,this.typeRefOf=t},t.initialState=function(n){return n.initialState},t.typeRefOf=function(n){return n.typeRefOf}}(n),function(n){"use strict";n["Grain.Class"]=n["Grain.Class"]||{};var t=n["Grain.Class"],e=n["Grain.Class.LProxy"],r=function(n,t,e){this.initialState=n,this.typeRefOf=t,this.which=e},a=function(n){this.Grain0=n};t.initialState=function(n){return n.initialState},t.typeRefOf=function(n){return n.typeRefOf},t.which=function(n){return n.which},t.nonKeyedGrainLProxy=function(n){return new a((function(){return function(n){return new r(e.initialState(n),e.typeRefOf(n),(function(n){return function(n){return n.local}}))}(n)}))}}(n),function(n){"use strict";n.new=function(){return{}},n.keys=function(n){return Object.keys(n)},n.values=function(n){return Object.values(n)},n.has=function(n,t){return!!t[n]},n.getImpl=function(n,t){return t[n]},n.set=function(n,t,e){e[n]=t},n.del=function(n,t){delete t[n]},n.unsafeGet=function(n,t){return t[n]}}(n["Grain.Internal.MObject"]=n["Grain.Internal.MObject"]||{}),function(n){"use strict";n["Grain.Internal.MObject"]=n["Grain.Internal.MObject"]||{};var t=n["Grain.Internal.MObject"],e=n["Grain.Internal.MObject"],r=n["Data.Nullable"];t.get=function(n,t){var a=e.getImpl(n,t);return r.toMaybe(a)},t.new=e.new,t.keys=e.keys,t.values=e.values,t.has=e.has,t.set=e.set,t.del=e.del,t.unsafeGet=e.unsafeGet}(n),function(n){"use strict";n.byIdx=function(n,t){return n[t]},n.byIdxNullable=function(n,t){return n[t]},n.keyNullable=function(n,t,e){return null==e?null:n(t,e)},n.mapNullable=function(n,t){return null==t?null:n(t)},n.eqNullable=function(n,t){return null!=n&&null!=t&&n===t};var t={style:!0,list:!0,form:!0,dropzone:!0};n.shouldAttribute=function(n){return!0===t[n]},n.raf=function(n){window.requestAnimationFrame(n)},n.head=function(){return document.head},n.createTextNode=function(n){return document.createTextNode(n)},n.createElement=function(n){return document.createElement(n)},n.createElementNS=function(n){return document.createElementNS("http://www.w3.org/2000/svg",n)},n.appendChild=function(n,t){return t.appendChild(n)},n.removeChild=function(n,t){t.removeChild(n)},n.putChild=function(n,t,e){var r=e.childNodes[n];r?e.insertBefore(t,r):e.appendChild(t)},n.nodeIndexOf=function(n){return Array.prototype.indexOf.call(n.parentNode.children,n)},n.setTextContent=function(n,t){t.textContent=n},n.setAny=function(n,t,e){e[n]=t},n.setAttribute=function(n,t,e){e.setAttribute(n,t)},n.removeAttribute=function(n,t){t.removeAttribute(n)},n.isProperty=function(n,t){return n in t},n.isBoolean=function(n,t){return"boolean"==typeof t[n]},n.mkEventListener=function(n){return function(t){n(t)()}},n.whenE=function(n,t){n&&t()},n.forE=function(n,t,e){for(var r=n;r<t;)e(r),r=r+1|0},n.foreachE=function(n,t){for(var e=0;e<n.length;)t(n[e]),e=e+1|0},n.sequenceE=function(n){for(var t=0;t<n.length;)n[t](),t=t+1|0},n.tailRecE=function(n,t){for(var e=t;!e.done;)e=n(e);return e}}(n["Grain.Internal.Util"]=n["Grain.Internal.Util"]||{}),function(n){"use strict";n.unsafeCoerce=function(n){return n}}(n["Unsafe.Coerce"]=n["Unsafe.Coerce"]||{}),function(n){"use strict";n["Unsafe.Coerce"]=n["Unsafe.Coerce"]||{};var t=n["Unsafe.Coerce"],e=n["Unsafe.Coerce"];t.unsafeCoerce=e.unsafeCoerce}(n),function(n){"use strict";n["Grain.Internal.Util"]=n["Grain.Internal.Util"]||{};var t=n["Grain.Internal.Util"],e=n["Grain.Internal.Util"],r=n["Unsafe.Coerce"].unsafeCoerce;t.nonNull=r,t.byIdx=e.byIdx,t.byIdxNullable=e.byIdxNullable,t.keyNullable=e.keyNullable,t.mapNullable=e.mapNullable,t.eqNullable=e.eqNullable,t.shouldAttribute=e.shouldAttribute,t.raf=e.raf,t.head=e.head,t.nodeIndexOf=e.nodeIndexOf,t.createTextNode=e.createTextNode,t.createElement=e.createElement,t.createElementNS=e.createElementNS,t.appendChild=e.appendChild,t.removeChild=e.removeChild,t.putChild=e.putChild,t.setTextContent=e.setTextContent,t.setAny=e.setAny,t.setAttribute=e.setAttribute,t.removeAttribute=e.removeAttribute,t.isProperty=e.isProperty,t.isBoolean=e.isBoolean,t.mkEventListener=e.mkEventListener,t.whenE=e.whenE,t.forE=e.forE,t.foreachE=e.foreachE,t.sequenceE=e.sequenceE,t.tailRecE=e.tailRecE}(n),function(n){"use strict";n["Grain.Internal.Diff"]=n["Grain.Internal.Diff"]||{};var t=n["Grain.Internal.Diff"],e=n["Data.Array"],r=n["Data.Maybe"],a=n["Data.Unit"],u=n["Grain.Internal.MObject"],i=n["Grain.Internal.Util"],o=function(n){if(n.st.startC>n.st.endC)return{done:!0,args:n.args,patch:n.patch,st:n.st};if(n.st.startN>n.st.endN)return{done:!0,args:n.args,patch:n.patch,st:n.st};var t=i.byIdxNullable(n.args.nexts,n.st.startN),e=i.byIdxNullable(n.args.currents,n.st.startC),r=i.byIdxNullable(n.args.nexts,n.st.endN),a=i.byIdxNullable(n.args.currents,n.st.endC),u=i.keyNullable(n.patch.getKey,n.st.startN,t),o=i.keyNullable(n.patch.getKey,n.st.startC,e),c=i.keyNullable(n.patch.getKey,n.st.endN,r),s=i.keyNullable(n.patch.getKey,n.st.endC,a);if(i.eqNullable(o,u))return n.patch.update(n.args.context,n.args.parentNode,i.nonNull(u),i.nonNull(e),i.nonNull(t)),{st:{startC:n.st.startC+1|0,startN:n.st.startN+1|0,endC:n.st.endC,endN:n.st.endN,lengthN:n.st.lengthN,lengthC:n.st.lengthC},args:n.args,done:n.done,patch:n.patch};if(i.eqNullable(s,c))return n.patch.update(n.args.context,n.args.parentNode,i.nonNull(c),i.nonNull(a),i.nonNull(r)),{st:{endC:n.st.endC-1|0,endN:n.st.endN-1|0,startC:n.st.startC,startN:n.st.startN,lengthN:n.st.lengthN,lengthC:n.st.lengthC},args:n.args,done:n.done,patch:n.patch};if(i.eqNullable(o,c)){var l=(n.st.lengthN-1|0)-n.st.endN|0,f=(n.st.lengthC-1|0)-l|0;return n.patch.move(n.args.context,n.args.parentNode,i.nonNull(c),f,i.nonNull(e),i.nonNull(r)),{st:{startC:n.st.startC+1|0,endN:n.st.endN-1|0,endC:n.st.endC,lengthC:n.st.lengthC,lengthN:n.st.lengthN,startN:n.st.startN},args:n.args,done:n.done,patch:n.patch}}return i.eqNullable(s,u)?(n.patch.move(n.args.context,n.args.parentNode,i.nonNull(u),n.st.startN,i.nonNull(a),i.nonNull(t)),{st:{endC:n.st.endC-1|0,startN:n.st.startN+1|0,endN:n.st.endN,lengthC:n.st.lengthC,lengthN:n.st.lengthN,startC:n.st.startC},args:n.args,done:n.done,patch:n.patch}):{done:!0,args:n.args,patch:n.patch,st:n.st}};t.diff=function(n,t){var c=e.length(t.nexts),s=e.length(t.currents);if(0===s&&0===c)return a.unit;if(0===s)return i.forE(0,c,(function(e){var r=i.byIdx(t.nexts,e),a=n.getKey(e,r);return n.create(t.context,t.parentNode,a,e,r)}));if(0===c)return i.forE(0,s,(function(e){var r=i.byIdx(t.currents,e),a=n.getKey(e,r);return n.delete(t.context,t.parentNode,a,r)}));var l=i.tailRecE(o,{done:!1,patch:n,args:t,st:{lengthC:s,startC:0,endC:s-1|0,lengthN:c,startN:0,endN:c-1|0}}),f=function(n){if(n.st.startC>n.st.endC)return u.new();var t=u.new();return i.forE(n.st.startC,n.st.endC+1|0,(function(e){var r=n.patch.getKey(e,i.byIdx(n.args.currents,e));return u.set(r,e,t)})),t}(l);return function(n){i.forE(n.st.startN,n.st.endN+1|0,(function(t){var e=i.byIdx(n.args.nexts,t),a=n.patch.getKey(t,e),o=u.get(a,n.st.ktoi);if(o instanceof r.Nothing)return n.patch.create(n.args.context,n.args.parentNode,a,t,e);if(o instanceof r.Just){var c=i.byIdx(n.args.currents,o.value0);return n.patch.move(n.args.context,n.args.parentNode,a,t,c,e),u.del(a,n.st.ktoi)}throw new Error("Failed pattern match at Grain.Internal.Diff (line 215, column 9 - line 232, column 49): "+[o.constructor.name])}));var t=u.keys(n.st.ktoi);return i.foreachE(t,(function(t){var e=u.unsafeGet(t,n.st.ktoi),r=i.byIdx(n.args.currents,e);return n.patch.delete(n.args.context,n.args.parentNode,t,r)}))}({patch:n,args:t,st:{startN:l.st.startN,endN:l.st.endN,ktoi:f}})}}(n),function(n){"use strict";n["Grain.Internal.PropDiff"]=n["Grain.Internal.PropDiff"]||{};var t=n["Grain.Internal.PropDiff"],e=n["Data.Array"],r=n["Data.Maybe"],a=n["Data.Tuple"],u=n["Data.Unit"],i=n["Grain.Internal.MObject"],o=n["Grain.Internal.Util"],c=function(n){if(n.st.startC>n.st.endC)return{done:!0,args:n.args,patch:n.patch,st:n.st};if(n.st.startN>n.st.endN)return{done:!0,args:n.args,patch:n.patch,st:n.st};var t=o.byIdxNullable(n.args.nexts,n.st.startN),e=o.byIdxNullable(n.args.currents,n.st.startC),r=o.byIdxNullable(n.args.nexts,n.st.endN),u=o.byIdxNullable(n.args.currents,n.st.endC),i=o.mapNullable(a.fst,t),c=o.mapNullable(a.fst,e),s=o.mapNullable(a.fst,r),l=o.mapNullable(a.fst,u);return o.eqNullable(c,i)?(n.patch.update(n.args.context,o.nonNull(e),o.nonNull(t)),{st:{startC:n.st.startC+1|0,startN:n.st.startN+1|0,endC:n.st.endC,endN:n.st.endN},args:n.args,done:n.done,patch:n.patch}):o.eqNullable(l,s)?(n.patch.update(n.args.context,o.nonNull(u),o.nonNull(r)),{st:{endC:n.st.endC-1|0,endN:n.st.endN-1|0,startC:n.st.startC,startN:n.st.startN},args:n.args,done:n.done,patch:n.patch}):o.eqNullable(c,s)?(n.patch.update(n.args.context,o.nonNull(e),o.nonNull(r)),{st:{startC:n.st.startC+1|0,endN:n.st.endN-1|0,endC:n.st.endC,startN:n.st.startN},args:n.args,done:n.done,patch:n.patch}):o.eqNullable(l,i)?(n.patch.update(n.args.context,o.nonNull(u),o.nonNull(t)),{st:{endC:n.st.endC-1|0,startN:n.st.startN+1|0,endN:n.st.endN,startC:n.st.startC},args:n.args,done:n.done,patch:n.patch}):{done:!0,args:n.args,patch:n.patch,st:n.st}};t.diff=function(n,t){var s=e.length(t.nexts),l=e.length(t.currents);if(0===l&&0===s)return u.unit;if(0===l)return o.forE(0,s,(function(e){var r=o.byIdx(t.nexts,e);return n.create(t.context,r)}));if(0===s)return o.forE(0,l,(function(e){var r=o.byIdx(t.currents,e);return n.delete(t.context,r)}));var f=o.tailRecE(c,{done:!1,patch:n,args:t,st:{startC:0,endC:l-1|0,startN:0,endN:s-1|0}}),d=function(n){if(n.st.startC>n.st.endC)return i.new();var t=i.new();return o.forE(n.st.startC,n.st.endC+1|0,(function(e){var r=a.fst(o.byIdx(n.args.currents,e));return i.set(r,e,t)})),t}(f);return function(n){o.forE(n.st.startN,n.st.endN+1|0,(function(t){var e=o.byIdx(n.args.nexts,t),u=a.fst(e),c=i.get(u,n.st.ntoi);if(c instanceof r.Nothing)return n.patch.create(n.args.context,e);if(c instanceof r.Just){var s=o.byIdx(n.args.currents,c.value0);return n.patch.update(n.args.context,s,e),i.del(u,n.st.ntoi)}throw new Error("Failed pattern match at Grain.Internal.PropDiff (line 178, column 9 - line 187, column 50): "+[c.constructor.name])}));var t=i.values(n.st.ntoi);return o.foreachE(t,(function(t){var e=o.byIdx(n.args.currents,t);return n.patch.delete(n.args.context,e)}))}({patch:n,args:t,st:{startN:f.st.startN,endN:f.st.endN,ntoi:d}})}}(n),function(n){"use strict";n["Grain.Internal.Handler"]=n["Grain.Internal.Handler"]||{};var t=n["Grain.Internal.Handler"],e=n["Data.Nullable"],r=n["Grain.Internal.PropDiff"],a=n["Grain.Internal.Util"],u=function(n,t,e){var r=a.mkEventListener(t);return a.setAny(n,r,e)},i={create:function(n,t){return u(t.value0,t.value1,n)},delete:function(n,t){return a.setAny(t.value0,e.null,n)},update:function(n,t,e){return u(e.value0,e.value1,n)}};t.allocHandlers=function(n,t){return a.foreachE(n,(function(n){return u(n.value0,n.value1,t)}))},t.updateHandlers=function(n,t,e){return r.diff(i,{context:e,currents:n,nexts:t})}}(n),function(n){"use strict";n["Grain.Internal.Prop"]=n["Grain.Internal.Prop"]||{};var t=n["Grain.Internal.Prop"],e=n["Grain.Internal.PropDiff"],r=n["Grain.Internal.Util"],a=function(n,t,e,a){return n||r.shouldAttribute(t)||!r.isProperty(t,a)?r.setAttribute(t,e,a):r.isBoolean(t,a)?r.setAny(t,"false"!==e,a):r.setAny(t,e,a)},u={create:function(n,t){return a(n.isSvg,t.value0,t.value1,n.element)},delete:function(n,t){return e=n.isSvg,a=t.value0,u=n.element,e||r.shouldAttribute(a)||!r.isProperty(a,u)?r.removeAttribute(a,u):r.setAny(a,"",u);var e,a,u},update:function(n,t,e){return r.whenE(t.value1!==e.value1,(function(){return a(n.isSvg,e.value0,e.value1,n.element)}))}};t.allocProps=function(n,t,e){return r.foreachE(t,(function(t){return a(n,t.value0,t.value1,e)}))},t.updateProps=function(n,t,r,a){return e.diff(u,{context:{isSvg:n,element:a},currents:t,nexts:r})}}(n),function(n){"use strict";n["Web.DOM.Element"]=n["Web.DOM.Element"]||{};var t=n["Web.DOM.Element"],e=n["Unsafe.Coerce"].unsafeCoerce;t.toNode=e}(n),function(n){"use strict";n["Grain.Internal.Styler"]=n["Grain.Internal.Styler"]||{};var t,e,r=n["Grain.Internal.Styler"],a=n["Data.Char"],u=n["Data.Foldable"],i=n["Data.Int"],o=n["Data.String.CodeUnits"],c=n["Data.String.Common"],s=n["Data.String.Regex"],l=n["Data.String.Regex.Flags"],f=n["Data.String.Regex.Unsafe"],d=n["Grain.Internal.MObject"],p=n["Grain.Internal.Util"],v=n["Web.DOM.Element"],h=(t=s.replace(f.unsafeRegex("\\s\\s+")(l.global))(" "),e=c.replaceAll("\n")(""),function(n){return t(e(c.trim(n)))});r.mountStyler=function(){var n,t;return{node:(n=p.head(),t=p.createElement("style"),p.appendChild(v.toNode(t),n)),stylesRef:d.new()}},r.registerStyle=function(n,t){var e,r,s,l,f,v=h(n),g="g"+(e=v,r=u.foldr(u.foldableArray)((function(n){return function(t){return(33*t|0)^a.toCharCode(n)}}))(5381)(o.toCharArray(e)),i.toStringAs(i.base36)(r>>>0)),m=d.has(g,t.stylesRef);return p.whenE(!m,(s=g,l=v,f=c.replaceAll("&")(s)(l),function(){d.set(g,f,t.stylesRef);var n=d.values(t.stylesRef);return p.setTextContent(c.joinWith("")(n),t.node)})),g}}(n),function(n){"use strict";n["Grain.Internal.SpecialProp"]=n["Grain.Internal.SpecialProp"]||{};var t=n["Grain.Internal.SpecialProp"],e=n["Data.Maybe"],r=n["Data.Unit"],a=n["Grain.Internal.Styler"],u=n["Grain.Internal.Util"],i=function(n,t,e){return n?u.setAttribute("class",t,e):u.setAny("className",t,e)},o=function(n,t){if(t.css instanceof e.Nothing&&t.className instanceof e.Just)return new e.Just(t.className.value0);if(t.css instanceof e.Just&&t.className instanceof e.Nothing){var r=a.registerStyle(t.css.value0,n);return new e.Just(r)}if(t.css instanceof e.Just&&t.className instanceof e.Just){r=a.registerStyle(t.css.value0,n);return e.Just.create(r+" "+t.className.value0)}return e.Nothing.value};t.allocSpecialProps=function(n,t,a,u){var c=o(t,a);return c instanceof e.Just?i(n,c.value0,u):r.unit},t.updateSpecialProps=function(n,t,a,c,s){var l=o(t,a),f=o(t,c);return l instanceof e.Just&&f instanceof e.Just?u.whenE(l.value0!==f.value0,(function(){return i(n,f.value0,s)})):l instanceof e.Nothing&&f instanceof e.Just?i(n,f.value0,s):l instanceof e.Just&&f instanceof e.Nothing?n?u.removeAttribute("class",s):u.setAny("className","",s):r.unit}}(n),function(n){"use strict";n["Grain.Internal.Element"]=n["Grain.Internal.Element"]||{};var t=n["Grain.Internal.Element"],e=n["Grain.Internal.Handler"],r=n["Grain.Internal.Prop"],a=n["Grain.Internal.SpecialProp"],u=n["Grain.Internal.Util"];t.allocElement=function(n,t,i){var o=n?u.createElementNS(i.tagName):u.createElement(i.tagName);return a.allocSpecialProps(n,t,i.specialProps,o),r.allocProps(n,i.props,o),e.allocHandlers(i.handlers,o),o},t.updateElement=function(n,t,u,i,o){return a.updateSpecialProps(n,t,u.specialProps,i.specialProps,o),r.updateProps(n,u.props,i.props,o),e.updateHandlers(u.handlers,i.handlers,o)}}(n),function(n){"use strict";n.new=function(){return[]},n.cons=function(n,t){t.unshift(n)},n.snoc=function(n,t){n.push(t)},n.cutFrom=function(n,t){t.splice(n)},n.deleteIfEqRef=function(n,t){var e=t.indexOf(n);e<0||t.splice(e,1)},n.clear=function(n){n.splice(0)}}(n["Grain.Internal.MArray"]=n["Grain.Internal.MArray"]||{}),function(n){"use strict";n["Grain.Internal.MArray"]=n["Grain.Internal.MArray"]||{};var t=n["Grain.Internal.MArray"],e=n["Grain.Internal.MArray"],r=n["Unsafe.Coerce"].unsafeCoerce;t.toArray=r,t.new=e.new,t.cons=e.cons,t.snoc=e.snoc,t.cutFrom=e.cutFrom,t.deleteIfEqRef=e.deleteIfEqRef,t.clear=e.clear}(n),function(n){"use strict";n["Grain.Internal.Emitter"]=n["Grain.Internal.Emitter"]||{};var t=n["Grain.Internal.Emitter"],e=n["Grain.Internal.MArray"],r=n["Grain.Internal.Util"];t.createEmitter=function(){return e.new()},t.subscribe=function(n,t){return e.snoc(t,n)},t.unsubscribe=function(n,t){return e.deleteIfEqRef(n,t)},t.emit=function(n){return r.sequenceE(e.toArray(n))}}(n),function(n){"use strict";n.new=function(){return new Map},n.getImpl=function(n,t){return t.get(n)},n.set=function(n,t,e){e.set(n,t)},n.del=function(n,t){t.delete(n)},n.unsafeGet=function(n,t){return t.get(n)}}(n["Grain.Internal.MMap"]=n["Grain.Internal.MMap"]||{}),function(n){"use strict";n["Grain.Internal.MMap"]=n["Grain.Internal.MMap"]||{};var t=n["Grain.Internal.MMap"],e=n["Grain.Internal.MMap"],r=n["Data.Nullable"];t.get=function(n,t){var a=e.getImpl(n,t);return r.toMaybe(a)},t.new=e.new,t.set=e.set,t.del=e.del,t.unsafeGet=e.unsafeGet}(n),function(n){"use strict";n.new=function(n){return{value:n}},n.read=function(n){return n.value},n.modify=function(n,t){return t.value=n(t.value),t.value},n.write=function(n,t){t.value=n}}(n["Grain.Internal.Ref"]=n["Grain.Internal.Ref"]||{}),function(n){"use strict";n["Grain.Internal.Ref"]=n["Grain.Internal.Ref"]||{};var t=n["Grain.Internal.Ref"],e=n["Grain.Internal.Ref"],r=n["Data.Functor"],a=n.Effect;t.modify_=function(n,t){return r.void(a.functorEffect)((function(){return e.modify(n,t)}))()},t.new=e.new,t.read=e.read,t.write=e.write}(n),function(n){"use strict";n["Grain.Internal.Store"]=n["Grain.Internal.Store"]||{};var t=n["Grain.Internal.Store"],e=n["Data.Maybe"],r=n.Foreign,a=n["Grain.Class"],u=n["Grain.Internal.Emitter"],i=n["Grain.Internal.MMap"],o=n["Grain.Internal.MObject"],c=n["Grain.Internal.Ref"],s=function(n){return function(t,s,l){var f=function(n){return function(t,r){var u=i.get(a.typeRefOf(n)(t),r);if(u instanceof e.Just)return u.value0;if(u instanceof e.Nothing){var c=o.new();return i.set(a.typeRefOf(n)(t),c,r),c}throw new Error("Failed pattern match at Grain.Internal.Store (line 96, column 3 - line 102, column 20): "+[u.constructor.name])}}(n)(t,l),d=o.get(s,f);if(d instanceof e.Just)return d.value0;if(d instanceof e.Nothing){var p=a.initialState(n)(t)(),v=c.new(r.unsafeToForeign(p)),h={emitter:u.createEmitter(),valueRef:v};return o.set(s,h,f),h}throw new Error("Failed pattern match at Grain.Internal.Store (line 80, column 3 - line 88, column 16): "+[d.constructor.name])}};t.createStore=function(){return i.new()},t.readGrain=function(n){return function(t,e,a){var u=s(n)(t,e,a),i=c.read(u.valueRef);return r.unsafeFromForeign(i)}},t.subscribeGrain=function(n){return function(t,e,r,a){var i=s(n)(t,e,a);return u.subscribe(r,i.emitter)}},t.unsubscribeGrain=function(n){return function(t,e,r,a){var i=s(n)(t,e,a);return u.unsubscribe(r,i.emitter)}},t.updateGrain=function(n){return function(t,e,r,a){var i=s(n)(t,e,a);return c.modify_(r,i.valueRef),u.emit(i.emitter)}}}(n),function(n){"use strict";n["Web.DOM.Text"]=n["Web.DOM.Text"]||{};var t=n["Web.DOM.Text"],e=n["Unsafe.Coerce"].unsafeCoerce;t.toNode=e}(n),function(n){"use strict";n["Grain.UI"]=n["Grain.UI"]||{};var t,e=n["Grain.UI"],r=n["Control.Applicative"],a=n["Control.Bind"],u=n["Control.Monad.Reader.Class"],i=n["Control.Monad.Reader.Trans"],o=n["Data.Array"],c=n["Data.Function"],s=n["Data.Functor"],l=n["Data.Lazy"],f=n["Data.Maybe"],d=n["Data.Show"],p=n["Data.Tuple"],v=n["Data.Unit"],h=n.Effect,g=n["Effect.Class"],m=n["Effect.Exception"],C=n["Grain.Class"],b=n["Grain.Internal.Diff"],y=n["Grain.Internal.Element"],N=n["Grain.Internal.MArray"],D=n["Grain.Internal.MMap"],w=n["Grain.Internal.MObject"],E=n["Grain.Internal.Ref"],x=n["Grain.Internal.Store"],I=n["Grain.Internal.Styler"],G=n["Grain.Internal.Util"],M=n["Web.DOM.Element"],S=n["Web.DOM.Text"],R=function(){function n(n,t){this.value0=n,this.value1=t}return n.create=function(t){return function(e){return new n(t,e)}},n}(),A=function(){function n(n){this.value0=n}return n.create=function(t){return new n(t)},n}(),k=function(){function n(n){this.value0=n}return n.create=function(t){return new n(t)},n}(),T=function(){function n(n){this.value0=n}return n.create=function(t){return new n(t)},n}(),U=D.del,P=function(n){var t=E.read(n);return G.sequenceE(N.toArray(t.unsubscribers)),N.clear(t.unsubscribers)},F=(t=R.create(f.Nothing.value),function(n){return t(A.create(n))}),O=function(n,t){return t.isSvg?t:{isSvg:"svg"===n,componentRefs:t.componentRefs,deleting:t.deleting,nodeRefs:t.nodeRefs,store:t.store,styler:t.styler}},J=function(n,t){if(n instanceof f.Nothing)return v.unit;if(n instanceof f.Just)return G.raf(n.value0(t));throw new Error("Failed pattern match at Grain.UI (line 560, column 3 - line 562, column 42): "+[n.constructor.name])},L=function(n,t){var e=w.new();return D.set(n,e,t)},q=D.new,W=function(n,t){return n.fingerprint instanceof f.Nothing&&t.fingerprint instanceof f.Nothing||(!(n.fingerprint instanceof f.Just&&t.fingerprint instanceof f.Just)||n.fingerprint.value0!==t.fingerprint.value0)},H=function(n,t){var e=t.value0 instanceof f.Just?t.value0.value0:d.show(d.showInt)(n);if(t.value1 instanceof A)return"text_"+e;if(t.value1 instanceof k)return"element_"+t.value1.value0.tagName+"_"+e;if(t.value1 instanceof T)return"component_"+e;throw new Error("Failed pattern match at Grain.UI (line 431, column 7 - line 437, column 37): "+[t.value1.constructor.name])},B=function(n,t,e){var r=D.unsafeGet(n,e);return w.get(t,r)},j=function(n){return R.create(f.Nothing.value)(new k({fingerprint:f.Nothing.value,tagName:n,props:[],handlers:[],children:[],specialProps:{css:f.Nothing.value,className:f.Nothing.value},didCreate:f.Nothing.value,didUpdate:f.Nothing.value,didDelete:f.Nothing.value}))},_=i.bindReaderT(h.bindEffect),K=i.applicativeReaderT(h.applicativeEffect),z=function(n,t){var e=E.read(t);return N.cons(n,e.portalHistory),N.cutFrom(2,e.portalHistory),N.toArray(e.portalHistory)},V=function(n,t,e,r,a){var u=B(t,e,n.nodeRefs);return s.void(h.functorEffect)((function(){return nn(n,u,new f.Just(r.value1),new f.Just(a.value1))}))()},Q=function(n,t,e){P(e);var r=function(n){var t=E.read(n);return N.toArray(t.history)}(e);return s.void(h.functorEffect)((function(){return nn(n,t,o.index(r)(0),f.Nothing.value)}))()},$=l.defer((function(n){return{getKey:H,create:en,delete:tn,update:V,move:X}})),X=function(n,t,e,r,a,u){var i=B(t,e,n.nodeRefs),o=nn(n,i,new f.Just(a.value1),new f.Just(u.value1)),c=G.nodeIndexOf(o)<r?r+1|0:r;return G.putChild(c,o,t)},Y=function(n,t){return function(e){return function(r){var a;return(a=c.const((function(){var r=e(),a=function(n){var t=E.read(n);return N.toArray(t.portalHistory)}(t);return b.diff(l.force($),{context:n,parentNode:r,currents:[G.byIdx(a,0)],nexts:[]}),U(r,n.nodeRefs)})),function(n){return n.value1 instanceof k?R.create(n.value0)(new k({fingerprint:n.value1.value0.fingerprint,tagName:n.value1.value0.tagName,props:n.value1.value0.props,handlers:n.value1.value0.handlers,children:n.value1.value0.children,specialProps:n.value1.value0.specialProps,didCreate:n.value1.value0.didCreate,didUpdate:n.value1.value0.didUpdate,didDelete:new f.Just(a)})):n})(function(n){return function(t){return t.value1 instanceof k?R.create(t.value0)(new k({fingerprint:t.value1.value0.fingerprint,tagName:t.value1.value0.tagName,props:t.value1.value0.props,handlers:t.value1.value0.handlers,children:t.value1.value0.children,specialProps:t.value1.value0.specialProps,didCreate:t.value1.value0.didCreate,didUpdate:new f.Just(n),didDelete:t.value1.value0.didDelete})):t}}(c.const((function(){var a=e(),u=z(r,t);return b.diff(l.force($),{context:n,parentNode:a,currents:[G.byIdx(u,1)],nexts:[r]})})))(function(n){return function(t){return t.value1 instanceof k?R.create(t.value0)(new k({fingerprint:t.value1.value0.fingerprint,tagName:t.value1.value0.tagName,props:t.value1.value0.props,handlers:t.value1.value0.handlers,children:t.value1.value0.children,specialProps:t.value1.value0.specialProps,didCreate:new f.Just(n),didUpdate:t.value1.value0.didUpdate,didDelete:t.value1.value0.didDelete})):t}}(c.const((function(){var a=e();z(r,t);return L(a,n.nodeRefs),b.diff(l.force($),{context:n,parentNode:a,currents:[],nexts:[r]})})))(j("span"))))}}},Z=function(n,t,e,r){var a=E.new(t),u=function(){var t=function(n){return E.read(n).store}(r);return{global:n.store,local:t}},c=Y(n,r),l=function(n){return function(t){return function(e){return function(){var a=u(),i=C.which(n)(t)(a);return x.subscribeGrain(n)(t,e,d,i),function(n,t){var e=E.read(t);return N.snoc(e.unsubscribers,n)}((function(){return x.unsubscribeGrain(n)(t,e,d,i)}),r)}}}},d=function(){var n=function(n){return E.read(n).rendering}(r);return G.whenE(!n,(function(){return function(n){E.modify_((function(n){return{rendering:!0,history:n.history,portalHistory:n.portalHistory,store:n.store,unsubscribers:n.unsubscribers}}),n)}(r),G.raf(s.void(h.functorEffect)(p))}))},p=function(){!function(n){E.modify_((function(n){return{rendering:!1,history:n.history,portalHistory:n.portalHistory,store:n.store,unsubscribers:n.unsubscribers}}),n)}(r),P(r);var t=function(n,t){var e=E.read(t);return N.cons(n,e.history),N.cutFrom(2,e.history),N.toArray(e.history)}(function(n){var t=i.runReaderT(n);return function(n){return t(n)}}(e)({selectValue:function(n){return function(n){return function(t){return function(e){return function(){var r=u(),a=C.which(n)(t)(r);return x.readGrain(n)(t,e,a)}}}}(n)},listenValue:function(n){return l(n)},updateValue:function(n){return function(n){return function(t){return function(e){return function(r){return function(){var a=u(),i=C.which(n)(t)(a);return x.updateGrain(n)(t,e,r,i)}}}}}(n)},portalVNode:c})().value1,r),s=E.read(a);return nn(n,s,o.index(t)(1),o.index(t)(0))},v=p();return E.write(new f.Just(v),a),v},nn=function(n,t,e,r){if(t instanceof f.Just&&e instanceof f.Just&&e.value0 instanceof A&&r instanceof f.Just&&r.value0 instanceof A)return G.whenE(e.value0.value0!==r.value0.value0,(function(){return G.setTextContent(r.value0.value0,t.value0)})),t.value0;if(t instanceof f.Just&&e instanceof f.Just&&e.value0 instanceof T&&r instanceof f.Just&&r.value0 instanceof T)return G.whenE(W(e.value0.value0,r.value0.value0),(function(){var e=D.unsafeGet(t.value0,n.componentRefs);return s.void(h.functorEffect)((function(){return Z(n,new f.Just(t.value0),r.value0.value0.render,e)}))()})),t.value0;if(t instanceof f.Just&&e instanceof f.Just&&e.value0 instanceof k&&r instanceof f.Just&&r.value0 instanceof k)return G.whenE(W(e.value0.value0,r.value0.value0),function(){var a=O(r.value0.value0.tagName,n);return function(){return y.updateElement(a.isSvg,a.styler,e.value0.value0,r.value0.value0,t.value0),b.diff(l.force($),{context:a,parentNode:t.value0,currents:e.value0.value0.children,nexts:r.value0.value0.children}),J(r.value0.value0.didUpdate,t.value0)}}()),t.value0;if(t instanceof f.Nothing&&e instanceof f.Nothing&&r instanceof f.Just&&r.value0 instanceof A){var a=G.createTextNode(r.value0.value0);return S.toNode(a)}if(t instanceof f.Nothing&&e instanceof f.Nothing&&r instanceof f.Just&&r.value0 instanceof T){var u=(o=x.createStore(),c=N.new(),d=N.new(),p=N.new(),E.new({rendering:!0,unsubscribers:c,history:d,store:o,portalHistory:p})),i=Z(n,f.Nothing.value,r.value0.value0.render,u);return D.set(i,u,n.componentRefs),i}var o,c,d,p;if(t instanceof f.Nothing&&e instanceof f.Nothing&&r instanceof f.Just&&r.value0 instanceof k){var v=O(r.value0.value0.tagName,n),g=y.allocElement(v.isSvg,v.styler,r.value0.value0);i=M.toNode(g);return L(i,v.nodeRefs),b.diff(l.force($),{context:v,parentNode:i,currents:[],nexts:r.value0.value0.children}),J(r.value0.value0.didCreate,g),i}if(t instanceof f.Just&&e instanceof f.Just&&e.value0 instanceof A&&r instanceof f.Nothing)return t.value0;if(t instanceof f.Just&&e instanceof f.Just&&e.value0 instanceof T&&r instanceof f.Nothing){u=D.unsafeGet(t.value0,n.componentRefs);return Q(n,new f.Just(t.value0),u),D.del(t.value0,n.componentRefs),t.value0}return t instanceof f.Just&&e instanceof f.Just&&e.value0 instanceof k&&r instanceof f.Nothing?(b.diff(l.force($),{context:n,parentNode:t.value0,currents:e.value0.value0.children,nexts:[]}),J(e.value0.value0.didDelete,t.value0),U(t.value0,n.nodeRefs),t.value0):m.throw("Renderer can't evaluate vnodes.")()},tn=function(n,t,e,r){var a=function(n){return n.deleting?n:{isSvg:n.isSvg,deleting:!0,store:n.store,styler:n.styler,nodeRefs:n.nodeRefs,componentRefs:n.componentRefs}}(n),u=B(t,e,a.nodeRefs),i=nn(a,u,new f.Just(r.value1),f.Nothing.value);return G.whenE(!n.deleting,(function(){return function(n,t,e){var r=D.unsafeGet(n,e);w.del(t,r)}(t,e,a.nodeRefs),G.removeChild(i,t)}))},en=function(n,t,e,r,a){var u=nn(n,f.Nothing.value,f.Nothing.value,new f.Just(a.value1));return function(n,t,e,r){var a=D.unsafeGet(n,r);w.set(t,e,a)}(t,e,u,n.nodeRefs),G.putChild(r,u,t)};e.key=function(n){return function(t){return new R(new f.Just(n),t.value1)}},e.component=function(n){return R.create(f.Nothing.value)(new T({fingerprint:f.Nothing.value,render:n}))},e.element=j,e.text=F,e.kids=function(n){return function(t){return t.value1 instanceof k?R.create(t.value0)(new k({fingerprint:t.value1.value0.fingerprint,tagName:t.value1.value0.tagName,props:t.value1.value0.props,handlers:t.value1.value0.handlers,children:n,specialProps:t.value1.value0.specialProps,didCreate:t.value1.value0.didCreate,didUpdate:t.value1.value0.didUpdate,didDelete:t.value1.value0.didDelete})):t}},e.prop=function(n){return function(t){return function(e){return e.value1 instanceof k?R.create(e.value0)(new k({fingerprint:e.value1.value0.fingerprint,tagName:e.value1.value0.tagName,props:o.snoc(e.value1.value0.props)(new p.Tuple(n,t)),handlers:e.value1.value0.handlers,children:e.value1.value0.children,specialProps:e.value1.value0.specialProps,didCreate:e.value1.value0.didCreate,didUpdate:e.value1.value0.didUpdate,didDelete:e.value1.value0.didDelete})):e}}},e.handle=function(n){return function(t){return function(e){return e.value1 instanceof k?R.create(e.value0)(new k({fingerprint:e.value1.value0.fingerprint,tagName:e.value1.value0.tagName,props:e.value1.value0.props,handlers:o.snoc(e.value1.value0.handlers)(new p.Tuple(n,t)),children:e.value1.value0.children,specialProps:e.value1.value0.specialProps,didCreate:e.value1.value0.didCreate,didUpdate:e.value1.value0.didUpdate,didDelete:e.value1.value0.didDelete})):e}}},e.css=function(n){return function(t){return t.value1 instanceof k?R.create(t.value0)(new k({fingerprint:t.value1.value0.fingerprint,tagName:t.value1.value0.tagName,props:t.value1.value0.props,handlers:t.value1.value0.handlers,children:t.value1.value0.children,specialProps:{css:new f.Just(n),className:t.value1.value0.specialProps.className},didCreate:t.value1.value0.didCreate,didUpdate:t.value1.value0.didUpdate,didDelete:t.value1.value0.didDelete})):t}},e.className=function(n){return function(t){return t.value1 instanceof k?R.create(t.value0)(new k({fingerprint:t.value1.value0.fingerprint,tagName:t.value1.value0.tagName,props:t.value1.value0.props,handlers:t.value1.value0.handlers,children:t.value1.value0.children,specialProps:{css:t.value1.value0.specialProps.css,className:new f.Just(n)},didCreate:t.value1.value0.didCreate,didUpdate:t.value1.value0.didUpdate,didDelete:t.value1.value0.didDelete})):t}},e.useValue=function(n){return function(t){return(e=n.Grain0(),function(n){return function(t){return a.bind(i.bindReaderT(h.bindEffect))(u.ask(i.monadAskReaderT(h.monadEffect)))((function(r){return g.liftEffect(i.monadEffectReader(g.monadEffectEffect))((function(){return r.listenValue(e)(n)(t)(),r.selectValue(e)(n)(t)()}))}))}})(t)("__DEFAULT__");var e}},e.useUpdater=function(n){return function(t){return a.bind(_)((e=n.Grain0(),function(n){return a.bind(i.bindReaderT(h.bindEffect))(u.ask(i.monadAskReaderT(h.monadEffect)))((function(t){return r.pure(i.applicativeReaderT(h.applicativeEffect))(t.updateValue(e)(n))}))})(t))((function(n){return r.pure(K)(n("__DEFAULT__"))}));var e}},e.mount=function(n){return function(t){return function(){var e=x.createStore(),r=I.mountStyler(),a=D.new(),u=q();return L(t,u),b.diff(l.force($),{context:{isSvg:!1,deleting:!1,store:e,styler:r,nodeRefs:u,componentRefs:a},parentNode:t,currents:[],nexts:[n]})}}},e.applicativeRender=K,e.bindRender=_}(n),function(n){"use strict";n["Grain.Markup.Element"]=n["Grain.Markup.Element"]||{};var t=n["Grain.Markup.Element"],e=n["Grain.UI"],r=e.element("ul"),a=e.element("p"),u=e.element("main"),i=e.element("li"),o=e.element("img"),c=e.element("header"),s=e.element("h3"),l=e.element("h2"),f=e.element("h1"),d=e.element("div"),p=e.element("a");t.h1=f,t.h2=l,t.h3=s,t.div=d,t.p=a,t.a=p,t.ul=r,t.li=i,t.img=o,t.header=c,t.main_=u}(n),function(n){"use strict";n["Grain.Markup.Handler"]=n["Grain.Markup.Handler"]||{};var t=n["Grain.Markup.Handler"],e=n["Grain.UI"].handle("onclick");t.onClick=e}(n),function(n){"use strict";n["Grain.Markup.Prop"]=n["Grain.Markup.Prop"]||{};var t=n["Grain.Markup.Prop"],e=n["Grain.UI"],r=e.prop("src"),a=e.prop("href"),u=e.prop("alt");t.href=a,t.src=r,t.alt=u}(n),function(n){"use strict";n["Grain.TypeRef"]=n["Grain.TypeRef"]||{};var t=n["Grain.TypeRef"],e=n["Unsafe.Coerce"].unsafeCoerce;t.fromConstructor=e}(n),function(n){"use strict";n._querySelector=function(n){return function(t){return function(){return t.querySelector(n)}}}}(n["Web.DOM.ParentNode"]=n["Web.DOM.ParentNode"]||{}),function(n){"use strict";n["Web.DOM.ParentNode"]=n["Web.DOM.ParentNode"]||{};var t=n["Web.DOM.ParentNode"],e=n["Web.DOM.ParentNode"],r=n["Data.Functor"],a=n["Data.Nullable"],u=n.Effect;t.querySelector=function(n){var t=r.map(u.functorEffect)(a.toMaybe),i=e._querySelector(n);return function(n){return t(i(n))}}}(n),function(n){"use strict";n.window=function(){return window}}(n["Web.HTML"]=n["Web.HTML"]||{}),function(n){"use strict";n["Web.HTML"]=n["Web.HTML"]||{};var t=n["Web.HTML"],e=n["Web.HTML"];t.window=e.window}(n),function(n){"use strict";n["Web.HTML.HTMLDocument"]=n["Web.HTML.HTMLDocument"]||{};var t=n["Web.HTML.HTMLDocument"],e=n["Unsafe.Coerce"].unsafeCoerce;t.toParentNode=e}(n),function(n){"use strict";n.document=function(n){return function(){return n.document}}}(n["Web.HTML.Window"]=n["Web.HTML.Window"]||{}),function(n){"use strict";n["Web.HTML.Window"]=n["Web.HTML.Window"]||{};var t=n["Web.HTML.Window"],e=n["Web.HTML.Window"];t.document=e.document}(n),function(n){"use strict";n.Main=n.Main||{};var t=n.Main,e=n["Control.Applicative"],r=n["Control.Bind"],a=n["Data.Eq"],u=n["Data.Function"],i=n["Data.Functor"],o=n["Data.Maybe"],c=n["Data.Unit"],s=n.Effect,l=n["Grain.Class"],f=n["Grain.Class.LProxy"],d=n["Grain.Markup.Element"],p=n["Grain.Markup.Handler"],v=n["Grain.Markup.Prop"],h=n["Grain.TypeRef"],g=n["Grain.UI"],m=n["Web.DOM.Element"],C=n["Web.DOM.ParentNode"],b=n["Web.HTML"],y=n["Web.HTML.HTMLDocument"],N=n["Web.HTML.Window"],D=function(){function n(){}return n.value=new n,n}(),w=function(){function n(){}return n.value=new n,n}(),E=g.kids([g.kids([g.text("業務")])(d.h2),g.kids([g.text("以下はフリーランスとしての業務の例です。")])(d.p),g.kids([g.kids([g.text("フロントエンド環境の刷新(CoffeeScriptからの移行やwebpackへの移行等)")])(d.li),g.kids([g.text("React/Reduxをベースとした、手数と設計負担を減らし、且つ、一様なコードを書くための仕組み化")])(d.li),g.kids([g.text("データ分析基盤の構築")])(d.li),g.kids([g.text("ドメインやシステムの都合上手を出しにくい、負債になっているテーブル群の全面的な再設計と実装とデータマイグレーション")])(d.li),g.kids([g.text("AWSからGCPへのインフラ移行(主にGCP側やアプリケーションの修正、移行作業)")])(d.li),g.kids([g.text("負債の溜まった決済基盤の全面的な再設計と実装")])(d.li),g.kids([g.text("各種パフォーマンスチューニング")])(d.li),g.kids([g.text("機械学習を用いた自然言語分野における分類器の作成とそれを用いたアプリケーションやインフラの構築")])(d.li),g.kids([g.text("ざっくり要望をもらって、一人でサービスをリリース")])(d.li),g.kids([g.text("PureScriptの導入")])(d.li),g.kids([g.text("WebRTCを用いたシステムの開発")])(d.li)])(d.ul),g.kids([g.text("など、多義に渡ります。")])(d.p),g.kids([g.text("技術的課題のタスクは特性上ソロあるいはほぼソロであたるような業務が多めですが、複数人での通常の機能開発もやります。")])(d.p),g.kids([g.text("仕事のご依頼")])(d.h2),g.kids([g.text("TwitterのDMにて受け付けております。")])(d.p)])(d.div),x="\n  body {\n    margin: 0;\n    font-family: 'Montserrat', 'M PLUS Rounded 1c', sans-serif;\n    color: #111111;\n    background-color: #fcfcfc;\n  }\n  p, li {\n    color: #333333;\n  }\n  a {\n    cursor: pointer;\n    text-decoration: none;\n  }\n  .& {\n    width: 720px;\n    margin: 64px auto;\n  }\n  ",I="\n  .& {\n    padding: 0 160px;\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    margin-bottom: 64px;\n  }\n  ",G="\n  .& {\n    width: 100%;\n    height: 100%;\n  }\n  ",M="\n  .& {\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n  }\n  ",S="\n  .& {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    width: 48px;\n    height: 48px;\n    border-radius: 50%;\n    overflow: hidden;\n  }\n  ",R="\n  .& {\n    text-align: center;\n  }\n  ",A=new f.LocalGrain((function(n){return e.pure(s.applicativeEffect)(D.value)}),(function(n){return h.fromConstructor(D.value)})),k="\n  .& {\n    font-size: 24px;\n    margin-right: 16px;\n  }\n  .&:hover {\n    font-weight: bold;\n  }\n  .&.active {\n    pointer-events: none;\n    font-weight: bold;\n  }\n  .&:last-of-type {\n    margin-right: 0;\n  }\n  ",T=g.kids([g.kids([g.text("所属")])(d.h2),g.kids([g.text("フリーランス")])(d.p),g.kids([g.text("職種")])(d.h2),g.kids([g.text("Webエンジニア")])(d.p),g.kids([g.text("スキル")])(d.h2),g.kids([g.text("フロントエンドからインフラまでやります。")])(d.p),g.kids([g.text("仕事上ではJavaScript, TypeScript, Flow, Ruby, Goを使う機会が多いです。")])(d.p),g.kids([g.text("PureScriptを最も好んでおり、")])(d.p),g.kids([g.text("仮想DOMや、サーバー向けライブラリなどのパッケージをつくっています。")])(d.p),g.kids([g.text("インフラについては最近はもっぱらGCPとりわけGKEを使います。")])(d.p)])(d.div),U="\n  .& {\n    width: 150%;\n    height: 150%;\n  }\n  ",P="\n  .& {\n    font-weight: normal;\n    text-align: center;\n    margin: 0 0 64px;\n  }\n  ",F=new a.Eq((function(n){return function(t){return n instanceof D&&t instanceof D||n instanceof w&&t instanceof w}})),O="\n  .& {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    width: 128px;\n    height: 128px;\n    border-radius: 8px;\n    overflow: hidden;\n  }\n  ",J=g.component(r.bind(g.bindRender)(g.useValue(l.nonKeyedGrainLProxy(A))(f.LProxy.value))((function(n){return r.bind(g.bindRender)(g.useUpdater(l.nonKeyedGrainLProxy(A))(f.LProxy.value))((function(t){var r=t(u.const(w.value)),i=t(u.const(D.value));return e.pure(g.applicativeRender)(g.kids([g.kids([g.kids([g.text("oreshinya.github.io")])(g.css(P)(d.h1)),g.kids([g.kids([v.alt("Profile")(v.src("assets/profile.jpg")(g.css("\n  .& {\n    width: 100%;\n  }\n  ")(d.img)))])(g.css(O)(d.div)),g.kids([g.kids([g.text("ID")])(d.h3),g.kids([g.text("oreshinya")])(d.p),g.kids([g.text("ソーシャルアカウント")])(d.h3),g.kids([g.kids([v.alt("Twitter")(v.src("assets/twitter.svg")(g.css(G)(d.img)))])(v.href("https://twitter.com/oreshinya")(g.css(S)(d.a))),g.kids([v.alt("Github")(v.src("assets/github.svg")(g.css(G)(d.img)))])(v.href("https://github.com/oreshinya")(g.css(S)(d.a))),g.kids([v.alt("Hatena")(v.src("assets/hatena.svg")(g.css(U)(d.img)))])(v.href("https://oreshinya.hatenablog.com")(g.css(S)(d.a)))])(g.css(M)(d.div))])(d.div)])(g.css(I)(d.div)),g.kids([g.kids([g.text("インフォメーション")])(p.onClick(u.const(i))(g.className(a.eq(F)(n)(D.value)?"active":"")(g.css(k)(d.a)))),g.kids([g.text("業務について")])(p.onClick(u.const(r))(g.className(a.eq(F)(n)(w.value)?"active":"")(g.css(k)(d.a))))])(g.css(R)(d.div))])(d.header),g.kids([function(){if(n instanceof D)return g.key("info")(T);if(n instanceof w)return g.key("work")(E);throw new Error("Failed pattern match at Main (line 77, column 11 - line 79, column 38): "+[n.constructor.name])}()])(d.main_)])(g.css(x)(d.div)))}))})));t.Info=D,t.Work=w,t.main=function(){var n=r.bind(s.bindEffect)(i.mapFlipped(s.functorEffect)(r.bind(s.bindEffect)(b.window)(N.document))(y.toParentNode))(C.querySelector("#app"))();if(n instanceof o.Nothing)return c.unit;if(n instanceof o.Just)return g.mount(J)(m.toNode(n.value0))();throw new Error("Failed pattern match at Main (line 28, column 3 - line 31, column 29): "+[n.constructor.name])},t.view=J,t.info=T,t.work=E,t.wholeCSS=x,t.h1CSS=P,t.topCSS=I,t.avatarCSS=O,t.avatarImgCSS="\n  .& {\n    width: 100%;\n  }\n  ",t.socialContainerCSS=M,t.socialCSS=S,t.socialImgCSS=G,t.hatenaCSS=U,t.middleCSS=R,t.linkCSS=k,t.eqTab=F,t.localGrainTab=A}(n),n.Main.main()}();