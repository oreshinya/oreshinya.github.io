!function(){var n={};!function(n){"use strict";n["Control.Semigroupoid"]=n["Control.Semigroupoid"]||{};var t=n["Control.Semigroupoid"],e=new function(n){this.compose=n}((function(n){return function(t){return function(e){return n(t(e))}}}));t.compose=function(n){return n.compose},t.semigroupoidFn=e}(n),function(n){"use strict";n["Control.Category"]=n["Control.Category"]||{};var t=n["Control.Category"],e=n["Control.Semigroupoid"],r=new function(n,t){this.Semigroupoid0=n,this.identity=t}((function(){return e.semigroupoidFn}),(function(n){return n}));t.identity=function(n){return n.identity},t.categoryFn=r}(n),function(n){"use strict";n["Data.Function"]=n["Data.Function"]||{};var t=n["Data.Function"];t.flip=function(n){return function(t){return function(e){return n(e)(t)}}},t.const=function(n){return function(t){return n}}}(n),function(n){"use strict";n.arrayMap=function(n){return function(t){for(var e=t.length,r=new Array(e),u=0;u<e;u++)r[u]=n(t[u]);return r}}}(n["Data.Functor"]=n["Data.Functor"]||{}),function(n){"use strict";n.unit={}}(n["Data.Unit"]=n["Data.Unit"]||{}),function(n){"use strict";n["Data.Unit"]=n["Data.Unit"]||{};var t=n["Data.Unit"],e=n["Data.Unit"];t.unit=e.unit}(n),function(n){"use strict";n["Data.Functor"]=n["Data.Functor"]||{};var t=n["Data.Functor"],e=n["Data.Functor"],r=n["Control.Semigroupoid"],u=n["Data.Function"],a=n["Data.Unit"],i=function(n){this.map=n},o=function(n){return n.map},c=new i(r.compose(r.semigroupoidFn)),f=new i(e.arrayMap);t.Functor=i,t.map=o,t.mapFlipped=function(n){return function(t){return function(e){return o(n)(e)(t)}}},t.void=function(n){return o(n)(u.const(a.unit))},t.functorFn=c,t.functorArray=f}(n),function(n){"use strict";n["Control.Apply"]=n["Control.Apply"]||{};var t=n["Control.Apply"],e=n["Control.Category"],r=n["Data.Function"],u=n["Data.Functor"],a=function(n){return n.apply};t.Apply=function(n,t){this.Functor0=n,this.apply=t},t.apply=a,t.applySecond=function(n){return function(t){return function(i){return a(n)(u.map(n.Functor0())(r.const(e.identity(e.categoryFn)))(t))(i)}}}}(n),function(n){"use strict";n["Control.Applicative"]=n["Control.Applicative"]||{};var t=n["Control.Applicative"],e=n["Control.Apply"],r=n["Data.Unit"],u=function(n){return n.pure};t.Applicative=function(n,t){this.Apply0=n,this.pure=t},t.pure=u,t.liftA1=function(n){return function(t){return function(r){return e.apply(n.Apply0())(u(n)(t))(r)}}},t.unless=function(n){return function(t){return function(e){if(!t)return e;if(t)return u(n)(r.unit);throw new Error("Failed pattern match at Control.Applicative (line 62, column 1 - line 62, column 65): "+[t.constructor.name,e.constructor.name])}}},t.when=function(n){return function(t){return function(e){if(t)return e;if(!t)return u(n)(r.unit);throw new Error("Failed pattern match at Control.Applicative (line 57, column 1 - line 57, column 63): "+[t.constructor.name,e.constructor.name])}}}}(n),function(n){"use strict";n["Control.Bind"]=n["Control.Bind"]||{};var t=n["Control.Bind"],e=n["Control.Category"],r=n["Data.Function"],u=function(n){return n.bind},a=function(n){return r.flip(u(n))},i=new function(n){this.discard=n}((function(n){return u(n)}));t.Bind=function(n,t){this.Apply0=n,this.bind=t},t.bind=u,t.bindFlipped=a,t.discard=function(n){return n.discard},t.join=function(n){return function(t){return u(n)(t)(e.identity(e.categoryFn))}},t.composeKleisliFlipped=function(n){return function(t){return function(e){return function(r){return a(n)(t)(e(r))}}}},t.discardUnit=i}(n),function(n){"use strict";n["Control.Monad"]=n["Control.Monad"]||{};var t=n["Control.Monad"],e=n["Control.Applicative"],r=n["Control.Bind"];t.Monad=function(n,t){this.Applicative0=n,this.Bind1=t},t.ap=function(n){return function(t){return function(u){return r.bind(n.Bind1())(t)((function(t){return r.bind(n.Bind1())(u)((function(r){return e.pure(n.Applicative0())(t(r))}))}))}}}}(n),function(n){"use strict";n.pureE=function(n){return function(){return n}},n.bindE=function(n){return function(t){return function(){return t(n())()}}}}(n.Effect=n.Effect||{}),function(n){"use strict";n.Effect=n.Effect||{};var t=n.Effect,e=n.Effect,r=n["Control.Applicative"],u=n["Control.Apply"],a=n["Control.Bind"],i=n["Control.Monad"],o=n["Data.Functor"],c=new i.Monad((function(){return s}),(function(){return f})),f=new a.Bind((function(){return l}),e.bindE),l=new u.Apply((function(){return d}),i.ap(c)),s=new r.Applicative((function(){return l}),e.pureE),d=new o.Functor(r.liftA1(s));t.functorEffect=d,t.applyEffect=l,t.applicativeEffect=s,t.bindEffect=f,t.monadEffect=c}(n),function(n){"use strict";n.new=function(n){return function(){return{value:n}}},n.read=function(n){return function(){return n.value}},n["modify'"]=function(n){return function(t){return function(){var e=n(t.value);return t.value=e.state,e.value}}},n.write=function(n){return function(t){return function(){return t.value=n,{}}}}}(n["Effect.Ref"]=n["Effect.Ref"]||{}),function(n){"use strict";n["Effect.Ref"]=n["Effect.Ref"]||{};var t=n["Effect.Ref"],e=n["Effect.Ref"],r=n["Data.Functor"],u=n.Effect,a=function(n){return e["modify'"]((function(t){var e=n(t);return{state:e,value:e}}))};t.modify=a,t.modify_=function(n){return function(t){return r.void(u.functorEffect)(a(n)(t))}},t.new=e.new,t.read=e.read,t.write=e.write}(n),function(n){"use strict";n["Control.Monad.Rec.Class"]=n["Control.Monad.Rec.Class"]||{};var t=n["Control.Monad.Rec.Class"],e=n["Control.Bind"],r=n["Data.Functor"],u=n.Effect,a=n["Effect.Ref"],i=function(){function n(n){this.value0=n}return n.create=function(t){return new n(t)},n}(),o=function(){function n(n){this.value0=n}return n.create=function(t){return new n(t)},n}(),c=function(n,t){this.Monad0=n,this.tailRecM=t},f=new c((function(){return u.monadEffect}),(function(n){return function(t){var c=function(n){if(n instanceof o)return n.value0;throw new Error("Failed pattern match at Control.Monad.Rec.Class (line 113, column 30 - line 113, column 44): "+[n.constructor.name])};return function(){var f=e.bindFlipped(u.bindEffect)(a.new)(n(t))();return function(){for(;!function(){var t=a.read(f)();if(t instanceof i){var e=n(t.value0)();return a.write(e)(f)(),!1}if(t instanceof o)return!0;throw new Error("Failed pattern match at Control.Monad.Rec.Class (line 104, column 22 - line 109, column 28): "+[t.constructor.name])}(););}(),r.map(u.functorEffect)(c)(a.read(f))()}}}));t.Loop=i,t.Done=o,t.MonadRec=c,t.tailRecM=function(n){return n.tailRecM},t.monadRecEffect=f}(n),function(n){"use strict";n["Control.Monad.Trans.Class"]=n["Control.Monad.Trans.Class"]||{};var t=n["Control.Monad.Trans.Class"];t.lift=function(n){return n.lift},t.MonadTrans=function(n){this.lift=n}}(n),function(n){"use strict";n["Data.Bifunctor"]=n["Data.Bifunctor"]||{};var t=n["Data.Bifunctor"];t.bimap=function(n){return n.bimap},t.Bifunctor=function(n){this.bimap=n}}(n),function(n){"use strict";n["Data.Either"]=n["Data.Either"]||{};var t=n["Data.Either"],e=n["Data.Bifunctor"],r=function(){function n(n){this.value0=n}return n.create=function(t){return new n(t)},n}(),u=function(){function n(n){this.value0=n}return n.create=function(t){return new n(t)},n}(),a=new e.Bifunctor((function(n){return function(t){return function(e){if(e instanceof r)return new r(n(e.value0));if(e instanceof u)return new u(t(e.value0));throw new Error("Failed pattern match at Data.Either (line 46, column 1 - line 48, column 36): "+[n.constructor.name,t.constructor.name,e.constructor.name])}}}));t.Left=r,t.Right=u,t.fromRight=function(n){return function(n){if(n instanceof u)return n.value0;throw new Error("Failed pattern match at Data.Either (line 261, column 1 - line 261, column 52): "+[n.constructor.name])}},t.bifunctorEither=a}(n),function(n){"use strict";n.unsafeCoerce=function(n){return n}}(n["Unsafe.Coerce"]=n["Unsafe.Coerce"]||{}),function(n){"use strict";n["Unsafe.Coerce"]=n["Unsafe.Coerce"]||{};var t=n["Unsafe.Coerce"],e=n["Unsafe.Coerce"];t.unsafeCoerce=e.unsafeCoerce}(n),function(n){"use strict";n["Data.Exists"]=n["Data.Exists"]||{};var t=n["Data.Exists"],e=n["Unsafe.Coerce"],r=e.unsafeCoerce,u=e.unsafeCoerce;t.mkExists=u,t.runExists=r}(n),function(n){"use strict";n["Control.Monad.Free.Trans"]=n["Control.Monad.Free.Trans"]||{};var t=n["Control.Monad.Free.Trans"],e=n["Control.Applicative"],r=n["Control.Apply"],u=n["Control.Bind"],a=n["Control.Monad"],i=n["Control.Monad.Rec.Class"],o=n["Control.Monad.Trans.Class"],c=n["Data.Bifunctor"],f=n["Data.Either"],l=n["Data.Exists"],s=n["Data.Functor"],d=n["Data.Unit"],p=function(){function n(n,t){this.value0=n,this.value1=t}return n.create=function(t){return function(e){return new n(t,e)}},n}(),v=function(){function n(n){this.value0=n}return n.create=function(t){return new n(t)},n}(),m=function(){function n(n){this.value0=n}return n.create=function(t){return new n(t)},n}(),b=function(n){return function(t){return new m(l.mkExists(new p(n,t)))}},h=function(n){return function(t){return new s.Functor((function(e){return function(r){if(r instanceof v)return new v((function(u){return s.map(t)(c.bimap(f.bifunctorEither)(e)(s.map(n)(s.map(h(n)(t))(e))))(r.value0(d.unit))}));if(r instanceof m)return l.runExists((function(r){return b(r.value0)((u=s.map(h(n)(t))(e),function(n){return u(r.value1(n))}));var u}))(r.value0);throw new Error("Failed pattern match at Control.Monad.Free.Trans (line 59, column 1 - line 61, column 71): "+[e.constructor.name,r.constructor.name])}}))}},E=function(n){return function(t){return new a.Monad((function(){return D(n)(t)}),(function(){return y(n)(t)}))}},y=function(n){return function(t){return new u.Bind((function(){return g(n)(t)}),(function(n){return function(t){return n instanceof m?l.runExists((function(n){return b(n.value0)((function(e){return b((function(t){return n.value1(e)}))(t)}))}))(n.value0):b((function(t){return n}))(t)}}))}},g=function(n){return function(t){return new r.Apply((function(){return h(n)(t.Bind1().Apply0().Functor0())}),a.ap(E(n)(t)))}},D=function(n){return function(t){return new e.Applicative((function(){return g(n)(t)}),(function(n){return new v((function(r){return e.pure(t.Applicative0())(new f.Left(n))}))}))}};t.runFreeT=function(n){return function(t){return function(r){return i.tailRecM(t)(u.composeKleisliFlipped(t.Monad0().Bind1())((function(n){if(n instanceof f.Left)return e.pure(t.Monad0().Applicative0())(new i.Done(n.value0));if(n instanceof f.Right)return s.map(t.Monad0().Bind1().Apply0().Functor0())(i.Loop.create)(r(n.value0));throw new Error("Failed pattern match at Control.Monad.Free.Trans (line 141, column 3 - line 141, column 63): "+[n.constructor.name])}))(function(n){return function(t){return i.tailRecM(t)((function(r){if(r instanceof v)return s.map(t.Monad0().Bind1().Apply0().Functor0())(i.Done.create)(r.value0(d.unit));if(r instanceof m)return l.runExists((function(r){var a=r.value0(d.unit);if(a instanceof v)return u.bind(t.Monad0().Bind1())(a.value0(d.unit))((function(a){if(a instanceof f.Left)return e.pure(t.Monad0().Applicative0())(new i.Loop(r.value1(a.value0)));if(a instanceof f.Right)return e.pure(t.Monad0().Applicative0())(new i.Done(new f.Right(s.map(n)((function(e){return u.bind(y(n)(t.Monad0()))(e)(r.value1)}))(a.value0))));throw new Error("Failed pattern match at Control.Monad.Free.Trans (line 54, column 20 - line 56, column 67): "+[a.constructor.name])}));if(a instanceof m)return l.runExists((function(a){return e.pure(t.Monad0().Applicative0())(new i.Loop(u.bind(y(n)(t.Monad0()))(a.value0(d.unit))((function(e){return u.bind(y(n)(t.Monad0()))(a.value1(e))(r.value1)}))))}))(a.value0);throw new Error("Failed pattern match at Control.Monad.Free.Trans (line 52, column 5 - line 57, column 98): "+[a.constructor.name])}))(r.value0);throw new Error("Failed pattern match at Control.Monad.Free.Trans (line 49, column 3 - line 49, column 75): "+[r.constructor.name])}))}}(n)(t)))}}},t.monadTransFreeT=function(n){return new o.MonadTrans((function(n){return function(t){return new v((function(e){return s.map(n.Bind1().Apply0().Functor0())(f.Left.create)(t)}))}}))},t.monadRecFreeT=function(n){return function(t){return new i.MonadRec((function(){return E(n)(t)}),(function(r){var a=function(o){return u.bind(y(n)(t))(r(o))((function(r){if(r instanceof i.Loop)return a(r.value0);if(r instanceof i.Done)return e.pure(D(n)(t))(r.value0);throw new Error("Failed pattern match at Control.Monad.Free.Trans (line 82, column 15 - line 84, column 25): "+[r.constructor.name])}))};return a}))}}}(n),function(n){"use strict";n["Control.Monad.Reader.Class"]=n["Control.Monad.Reader.Class"]||{};var t=n["Control.Monad.Reader.Class"];t.ask=function(n){return n.ask},t.local=function(n){return n.local},t.MonadAsk=function(n,t){this.Monad0=n,this.ask=t},t.MonadReader=function(n,t){this.MonadAsk0=n,this.local=t}}(n),function(n){"use strict";n["Effect.Class"]=n["Effect.Class"]||{};var t=n["Effect.Class"],e=n["Control.Category"],r=n.Effect,u=function(n,t){this.Monad0=n,this.liftEffect=t},a=new u((function(){return r.monadEffect}),e.identity(e.categoryFn));t.liftEffect=function(n){return n.liftEffect},t.MonadEffect=u,t.monadEffectEffect=a}(n),function(n){"use strict";n["Control.Monad.Reader.Trans"]=n["Control.Monad.Reader.Trans"]||{};var t=n["Control.Monad.Reader.Trans"],e=n["Control.Applicative"],r=n["Control.Apply"],u=n["Control.Bind"],a=n["Control.Monad"],i=n["Control.Monad.Reader.Class"],o=n["Control.Monad.Rec.Class"],c=n["Control.Monad.Trans.Class"],f=n["Data.Function"],l=n["Data.Functor"],s=n["Effect.Class"],d=function(n){return function(t){return function(e){return t(n(e))}}},p=new c.MonadTrans((function(n){return function(n){return f.const(n)}})),v=function(n){return new r.Apply((function(){return t=n.Functor0(),new l.Functor((e=l.map(t),function(n){return t=e(n),function(n){return function(e){return t(n(e))}};var t}));var t,e}),(function(t){return function(e){return function(u){return r.apply(n)(t(u))(e(u))}}}))},m=function(n){return new u.Bind((function(){return v(n.Apply0())}),(function(t){return function(e){return function(r){return u.bind(n)(t(r))((function(n){return e(n)(r)}))}}}))},b=function(n){return new e.Applicative((function(){return v(n.Apply0())}),(t=e.pure(n),function(n){return f.const(t(n))}));var t},h=function(n){return new a.Monad((function(){return b(n.Applicative0())}),(function(){return m(n.Bind1())}))},E=function(n){return new i.MonadAsk((function(){return h(n)}),e.pure(n.Applicative0()))};t.runReaderT=function(n){return n},t.withReaderT=d,t.applicativeReaderT=b,t.bindReaderT=m,t.monadEffectReader=function(n){return new s.MonadEffect((function(){return h(n.Monad0())}),(t=c.lift(p)(n.Monad0()),e=s.liftEffect(n),function(n){return t(e(n))}));var t,e},t.monadAskReaderT=E,t.monadReaderReaderT=function(n){return new i.MonadReader((function(){return E(n)}),d)},t.monadRecReaderT=function(n){return new o.MonadRec((function(){return h(n.Monad0())}),(function(t){return function(r){return function(a){return o.tailRecM(n)(function(r){return function(a){var i=t(a);return u.bindFlipped(n.Monad0().Bind1())(e.pure(n.Monad0().Applicative0()))(i(r))}}(a))(r)}}}))}}(n),function(n){"use strict";n.map_=function(n){return function(t){return function(){return n(t())}}},n.pure_=function(n){return function(){return n}},n.bind_=function(n){return function(t){return function(){return t(n())()}}},n.foreach=function(n){return function(t){return function(){for(var e=0,r=n.length;e<r;e++)t(n[e])()}}}}(n["Control.Monad.ST.Internal"]=n["Control.Monad.ST.Internal"]||{}),function(n){"use strict";n["Control.Monad.ST.Internal"]=n["Control.Monad.ST.Internal"]||{};var t=n["Control.Monad.ST.Internal"],e=n["Control.Monad.ST.Internal"],r=n["Control.Applicative"],u=n["Control.Apply"],a=n["Control.Bind"],i=n["Control.Monad"],o=new n["Data.Functor"].Functor(e.map_),c=new i.Monad((function(){return s}),(function(){return f})),f=new a.Bind((function(){return l}),e.bind_),l=new u.Apply((function(){return o}),i.ap(c)),s=new r.Applicative((function(){return l}),e.pure_);t.functorST=o,t.applicativeST=s,t.foreach=e.foreach}(n),function(n){"use strict";n.foldrArray=function(n){return function(t){return function(e){for(var r=t,u=e.length-1;u>=0;u--)r=n(e[u])(r);return r}}},n.foldlArray=function(n){return function(t){return function(e){for(var r=t,u=e.length,a=0;a<u;a++)r=n(r)(e[a]);return r}}}}(n["Data.Foldable"]=n["Data.Foldable"]||{}),function(n){"use strict";var t=function(n){return function(t){return n===t}};n.eqBooleanImpl=t,n.eqIntImpl=t,n.eqCharImpl=t,n.eqStringImpl=t}(n["Data.Eq"]=n["Data.Eq"]||{}),function(n){"use strict";n["Data.Eq"]=n["Data.Eq"]||{};var t=n["Data.Eq"],e=n["Data.Eq"],r=function(n){this.eq=n},u=new r(e.eqStringImpl),a=new r(e.eqIntImpl),i=new r(e.eqCharImpl),o=new r(e.eqBooleanImpl),c=function(n){return n.eq};t.Eq=r,t.eq=c,t.notEq=function(n){return function(t){return function(e){return c(o)(c(n)(t)(e))(!1)}}},t.eqInt=a,t.eqChar=i,t.eqString=u}(n),function(n){"use strict";n.boolConj=function(n){return function(t){return n&&t}},n.boolDisj=function(n){return function(t){return n||t}},n.boolNot=function(n){return!n}}(n["Data.HeytingAlgebra"]=n["Data.HeytingAlgebra"]||{}),function(n){"use strict";n["Data.HeytingAlgebra"]=n["Data.HeytingAlgebra"]||{};var t=n["Data.HeytingAlgebra"],e=n["Data.HeytingAlgebra"],r=function(n){return n.not},u=function(n){return n.disj},a=new function(n,t,e,r,u,a){this.conj=n,this.disj=t,this.ff=e,this.implies=r,this.not=u,this.tt=a}(e.boolConj,e.boolDisj,!1,(function(n){return function(t){return u(a)(r(a)(n))(t)}}),e.boolNot,!0);t.ff=function(n){return n.ff},t.disj=u,t.not=r,t.heytingAlgebraBoolean=a}(n),function(n){"use strict";n["Data.Monoid"]=n["Data.Monoid"]||{};var t=n["Data.Monoid"];t.Monoid=function(n,t){this.Semigroup0=n,this.mempty=t},t.mempty=function(n){return n.mempty}}(n),function(n){"use strict";n.concatArray=function(n){return function(t){return 0===n.length?t:0===t.length?n:n.concat(t)}}}(n["Data.Semigroup"]=n["Data.Semigroup"]||{}),function(n){"use strict";n["Data.Semigroup"]=n["Data.Semigroup"]||{};var t=n["Data.Semigroup"],e=function(n){this.append=n},r=new e(n["Data.Semigroup"].concatArray);t.Semigroup=e,t.append=function(n){return n.append},t.semigroupArray=r}(n),function(n){"use strict";n["Data.Monoid.Disj"]=n["Data.Monoid.Disj"]||{};var t=n["Data.Monoid.Disj"],e=n["Data.HeytingAlgebra"],r=n["Data.Monoid"],u=n["Data.Semigroup"];t.Disj=function(n){return n},t.monoidDisj=function(n){return new r.Monoid((function(){return function(n){return new u.Semigroup((function(t){return function(r){return e.disj(n)(t)(r)}}))}(n)}),e.ff(n))}}(n),function(n){"use strict";n["Data.Newtype"]=n["Data.Newtype"]||{};var t=n["Data.Newtype"],e=n["Data.Functor"],r=n["Data.Monoid.Disj"],u=function(n,t){this.unwrap=n,this.wrap=t},a=function(n){return n.unwrap},i=new u((function(n){return n}),r.Disj);t.unwrap=a,t.Newtype=u,t.alaF=function(n){return function(t){return function(r){return function(u){return function(i){return function(i){var o=e.map(t)(a(u)),c=e.map(n)(r.wrap);return function(n){return o(i(c(n)))}}}}}}},t.newtypeDisj=i}(n),function(n){"use strict";n["Data.Foldable"]=n["Data.Foldable"]||{};var t=n["Data.Foldable"],e=n["Data.Foldable"],r=n["Control.Applicative"],u=n["Control.Apply"],a=n["Control.Category"],i=n["Data.Eq"],o=n["Data.Functor"],c=n["Data.HeytingAlgebra"],f=n["Data.Monoid"],l=n["Data.Monoid.Disj"],s=n["Data.Newtype"],d=n["Data.Semigroup"],p=n["Data.Unit"],v=function(n){return n.foldr},m=function(n){return function(t){return function(e){return v(t)((a=u.applySecond(n.Apply0()),function(n){return a(e(n))}))(r.pure(n)(p.unit));var a}}},b=new function(n,t,e){this.foldMap=n,this.foldl=t,this.foldr=e}((function(n){return(t=b,function(n){return function(e){return v(t)((function(t){return function(r){return d.append(n.Semigroup0())(e(t))(r)}}))(f.mempty(n))}})(n);var t}),e.foldlArray,e.foldrArray),h=function(n){return function(t){return s.alaF(o.functorFn)(o.functorFn)(s.newtypeDisj)(s.newtypeDisj)(l.Disj)(n.foldMap(l.monoidDisj(t)))}};t.foldr=v,t.foldl=function(n){return n.foldl},t.traverse_=m,t.sequence_=function(n){return function(t){return m(n)(t)(a.identity(a.categoryFn))}},t.any=h,t.notElem=function(n){return function(t){return function(e){var r=c.not(c.heytingAlgebraBoolean),u=function(n){return function(t){var e=h(n)(c.heytingAlgebraBoolean),r=i.eq(t);return function(n){return e(r(n))}}}(n)(t)(e);return function(n){return r(u(n))}}}},t.foldableArray=b}(n),function(n){"use strict";n["Data.Identity"]=n["Data.Identity"]||{};var t=n["Data.Identity"],e=n["Data.Functor"],r=new n["Data.Newtype"].Newtype((function(n){return n}),(function(n){return n})),u=new e.Functor((function(n){return function(t){return n(t)}}));t.newtypeIdentity=r,t.functorIdentity=u}(n),function(n){"use strict";n["Control.Safely"]=n["Control.Safely"]||{};var t=n["Control.Safely"],e=n["Control.Applicative"],r=n["Control.Monad.Free.Trans"],u=n["Control.Monad.Trans.Class"],a=n["Data.Foldable"],i=n["Data.Function"],o=n["Data.Identity"],c=n["Data.Newtype"],f=function(n){return function(t){return function(i){return function(f){return function(n){return function(t){var a=function(n){return r.runFreeT(o.functorIdentity)(n)((t=e.pure(n.Monad0().Applicative0()),u=c.unwrap(o.newtypeIdentity),function(n){return t(u(n))}));var t,u};return a(n)(t(r.monadRecFreeT(o.functorIdentity)(n.Monad0()))(u.lift(r.monadTransFreeT(o.functorIdentity))(n.Monad0()))(a(n)))}}(t)((function(t){return function(e){return function(r){return a.traverse_(t.Monad0().Applicative0())(n)((function(n){return e(i(n))}))(f)}}}))}}}};t.for_=function(n){return function(t){return i.flip(f(n)(t))}}}(n),function(n){"use strict";n.range=function(n){return function(t){for(var e=n>t?-1:1,r=new Array(e*(t-n)+1),u=n,a=0;u!==t;)r[a++]=u,u+=e;return r[a]=u,r}},n.fromFoldableImpl=function(){function n(n,t){this.head=n,this.tail=t}var t={};function e(t){return function(e){return new n(t,e)}}return function(n){return function(r){return function(n){for(var e=[],r=0,u=n;u!==t;)e[r++]=u.head,u=u.tail;return e}(n(e)(t)(r))}}}(),n.length=function(n){return n.length},n.cons=function(n){return function(t){return[n].concat(t)}},n.snoc=function(n){return function(t){var e=n.slice();return e.push(t),e}},n.indexImpl=function(n){return function(t){return function(e){return function(r){return r<0||r>=e.length?t:n(e[r])}}}},n.findIndexImpl=function(n){return function(t){return function(e){return function(r){for(var u=0,a=r.length;u<a;u++)if(e(r[u]))return n(u);return t}}}},n._deleteAt=function(n){return function(t){return function(e){return function(r){if(e<0||e>=r.length)return t;var u=r.slice();return u.splice(e,1),n(u)}}}},n.filter=function(n){return function(t){return t.filter(n)}},n.take=function(n){return function(t){return n<1?[]:t.slice(0,n)}},n.unsafeIndexImpl=function(n){return function(t){return n[t]}}}(n["Data.Array"]=n["Data.Array"]||{}),function(n){"use strict";n.empty=function(){return[]},n.pushAll=function(n){return function(t){return function(){return t.push.apply(t,n)}}},n.unsafeFreeze=function(n){return function(){return n}}}(n["Data.Array.ST"]=n["Data.Array.ST"]||{}),function(n){"use strict";n["Data.Array.ST"]=n["Data.Array.ST"]||{};var t=n["Data.Array.ST"],e=n["Data.Array.ST"];t.push=function(n){return e.pushAll([n])},t.empty=e.empty,t.unsafeFreeze=e.unsafeFreeze}(n),function(n){"use strict";n["Data.Boolean"]=n["Data.Boolean"]||{};n["Data.Boolean"].otherwise=!0}(n),function(n){"use strict";n["Data.Maybe"]=n["Data.Maybe"]||{};var t=n["Data.Maybe"],e=n["Control.Category"],r=n["Data.Eq"],u=n["Data.Function"],a=n["Data.Functor"],i=function(){function n(){}return n.value=new n,n}(),o=function(){function n(n){this.value0=n}return n.create=function(t){return new n(t)},n}(),c=function(n){return function(t){return function(e){if(e instanceof i)return n;if(e instanceof o)return t(e.value0);throw new Error("Failed pattern match at Data.Maybe (line 217, column 1 - line 217, column 51): "+[n.constructor.name,t.constructor.name,e.constructor.name])}}},f=c(!0)(u.const(!1)),l=new a.Functor((function(n){return function(t){return t instanceof o?new o(n(t.value0)):i.value}}));t.Nothing=i,t.Just=o,t.maybe=c,t.fromMaybe=function(n){return c(n)(e.identity(e.categoryFn))},t.isNothing=f,t.fromJust=function(n){return function(n){if(n instanceof o)return n.value0;throw new Error("Failed pattern match at Data.Maybe (line 268, column 1 - line 268, column 46): "+[n.constructor.name])}},t.functorMaybe=l,t.eqMaybe=function(n){return new r.Eq((function(t){return function(e){return t instanceof i&&e instanceof i||t instanceof o&&e instanceof o&&r.eq(n)(t.value0)(e.value0)}}))}}(n),function(n){"use strict";n["Data.Tuple"]=n["Data.Tuple"]||{};var t=n["Data.Tuple"],e=function(){function n(n,t){this.value0=n,this.value1=t}return n.create=function(t){return function(e){return new n(t,e)}},n}();t.Tuple=e,t.fst=function(n){return n.value0},t.snd=function(n){return n.value1},t.uncurry=function(n){return function(t){return n(t.value0)(t.value1)}}}(n),function(n){"use strict";n.unfoldrArrayImpl=function(n){return function(t){return function(e){return function(r){return function(u){return function(a){for(var i=[],o=a;;){var c=u(o);if(n(c))return i;var f=t(c);i.push(e(f)),o=r(f)}}}}}}}}(n["Data.Unfoldable"]=n["Data.Unfoldable"]||{}),function(n){"use strict";n.unfoldr1ArrayImpl=function(n){return function(t){return function(e){return function(r){return function(u){return function(a){for(var i=[],o=a;;){var c=u(o);i.push(e(c));var f=r(c);if(n(f))return i;o=t(f)}}}}}}}}(n["Data.Unfoldable1"]=n["Data.Unfoldable1"]||{}),function(n){"use strict";n["Data.Unfoldable1"]=n["Data.Unfoldable1"]||{};var t=n["Data.Unfoldable1"],e=n["Data.Unfoldable1"],r=n["Data.Maybe"],u=n["Data.Tuple"],a=new function(n){this.unfoldr1=n}(e.unfoldr1ArrayImpl(r.isNothing)(r.fromJust())(u.fst)(u.snd));t.unfoldable1Array=a}(n),function(n){"use strict";n["Data.Unfoldable"]=n["Data.Unfoldable"]||{};var t=n["Data.Unfoldable"],e=n["Data.Unfoldable"],r=n["Data.Maybe"],u=n["Data.Tuple"],a=n["Data.Unfoldable1"],i=new function(n,t){this.Unfoldable10=n,this.unfoldr=t}((function(){return a.unfoldable1Array}),e.unfoldrArrayImpl(r.isNothing)(r.fromJust())(u.fst)(u.snd));t.unfoldr=function(n){return n.unfoldr},t.unfoldableArray=i}(n),function(n){"use strict";n["Data.Array"]=n["Data.Array"]||{};var t=n["Data.Array"],e=n["Data.Array"],r=n["Control.Applicative"],u=n["Control.Monad.ST.Internal"],a=n["Data.Array.ST"],i=n["Data.Boolean"],o=n["Data.Eq"],c=n["Data.Foldable"],f=n["Data.Function"],l=n["Data.Functor"],s=n["Data.HeytingAlgebra"],d=n["Data.Maybe"],p=n["Data.Semigroup"],v=n["Data.Tuple"],m=n["Data.Unfoldable"],b=e.indexImpl(d.Just.create)(d.Nothing.value),h=e.findIndexImpl(d.Just.create)(d.Nothing.value),E=e._deleteAt(d.Just.create)(d.Nothing.value),y=function(n){return function(t){return function(e){return p.append(p.semigroupArray)(t)(c.foldl(c.foldableArray)(f.flip((i=n,function(n){return function(t){return 0===t.length?[]:d.maybe(t)((function(n){return d.fromJust()(E(n)(t))}))(h(i(n))(t))}})))(function(n){return function(t){return e=a.empty(),u.foreach(t)((function(t){return function(){var i,o,f=l.map(u.functorST)((i=s.not(s.heytingAlgebraBoolean),o=c.any(c.foldableArray)(s.heytingAlgebraBoolean)((function(e){return n(e)(t)})),function(n){return i(o(n))}))(a.unsafeFreeze(e))();return r.when(u.applicativeST)(f)(l.void(u.functorST)(a.push(t)(e)))()}}))(),a.unsafeFreeze(e)();var e}}(n)(e))(t));var i}}};t.fromFoldable=function(n){return e.fromFoldableImpl(c.foldr(n))},t.toUnfoldable=function(n){return function(t){var r=e.length(t);return m.unfoldr(n)((function(n){if(n<r)return new d.Just(new v.Tuple(e.unsafeIndexImpl(t)(n),n+1|0));if(i.otherwise)return d.Nothing.value;throw new Error("Failed pattern match at Data.Array (line 143, column 3 - line 145, column 26): "+[n.constructor.name])}))(0)}},t.index=b,t.union=function(n){return y(o.eq(n))},t.range=e.range,t.length=e.length,t.cons=e.cons,t.snoc=e.snoc,t.filter=e.filter,t.take=e.take}(n),function(n){"use strict";n.topInt=2147483647,n.bottomInt=-2147483648,n.topChar=String.fromCharCode(65535),n.bottomChar=String.fromCharCode(0)}(n["Data.Bounded"]=n["Data.Bounded"]||{}),function(n){"use strict";var t=function(n){return function(t){return function(e){return function(r){return function(u){return r<u?n:r===u?t:e}}}}};n.ordIntImpl=t,n.ordCharImpl=t}(n["Data.Ord"]=n["Data.Ord"]||{}),function(n){"use strict";n["Data.Ordering"]=n["Data.Ordering"]||{};var t=n["Data.Ordering"],e=function(){function n(){}return n.value=new n,n}(),r=function(){function n(){}return n.value=new n,n}(),u=function(){function n(){}return n.value=new n,n}();t.LT=e,t.GT=r,t.EQ=u}(n),function(n){"use strict";n["Data.Ord"]=n["Data.Ord"]||{};var t=n["Data.Ord"],e=n["Data.Ord"],r=n["Data.Eq"],u=n["Data.Ordering"],a=function(n,t){this.Eq0=n,this.compare=t},i=new a((function(){return r.eqInt}),e.ordIntImpl(u.LT.value)(u.EQ.value)(u.GT.value)),o=new a((function(){return r.eqChar}),e.ordCharImpl(u.LT.value)(u.EQ.value)(u.GT.value));t.ordInt=i,t.ordChar=o}(n),function(n){"use strict";n["Data.Bounded"]=n["Data.Bounded"]||{};var t=n["Data.Bounded"],e=n["Data.Bounded"],r=n["Data.Ord"],u=function(n,t,e){this.Ord0=n,this.bottom=t,this.top=e},a=new u((function(){return r.ordInt}),e.bottomInt,e.topInt),i=new u((function(){return r.ordChar}),e.bottomChar,e.topChar);t.bottom=function(n){return n.bottom},t.top=function(n){return n.top},t.boundedInt=a,t.boundedChar=i}(n),function(n){"use strict";n.toCharCode=function(n){return n.charCodeAt(0)},n.fromCharCode=function(n){return String.fromCharCode(n)}}(n["Data.Enum"]=n["Data.Enum"]||{}),function(n){"use strict";n["Data.Enum"]=n["Data.Enum"]||{};var t,e=n["Data.Enum"],r=n["Data.Enum"],u=n["Data.Bounded"],a=n["Data.Maybe"],i=n["Data.Ord"],o=function(n){return n>=u.bottom(u.boundedInt)&&n<=u.top(u.boundedInt)?new a.Just(r.fromCharCode(n)):a.Nothing.value},c=new function(n,t,e){this.Ord0=n,this.pred=t,this.succ=e}((function(){return i.ordChar}),(t=o,function(n){return function(e){return t(n(e)-1|0)}})(r.toCharCode),function(n){return function(t){return function(e){return n(t(e)+1|0)}}}(o)(r.toCharCode)),f=new function(n,t,e,r,u){this.Bounded0=n,this.Enum1=t,this.cardinality=e,this.fromEnum=r,this.toEnum=u}((function(){return u.boundedChar}),(function(){return c}),r.toCharCode(u.top(u.boundedChar))-r.toCharCode(u.bottom(u.boundedChar))|0,r.toCharCode,o);e.fromEnum=function(n){return n.fromEnum},e.boundedEnumChar=f}(n),function(n){"use strict";n["Data.Char"]=n["Data.Char"]||{};var t=n["Data.Char"],e=n["Data.Enum"],r=e.fromEnum(e.boundedEnumChar);t.toCharCode=r}(n),function(n){"use strict";n.runFn4=function(n){return function(t){return function(e){return function(r){return function(u){return n(t,e,r,u)}}}}}}(n["Data.Function.Uncurried"]=n["Data.Function.Uncurried"]||{}),function(n){"use strict";n["Data.Function.Uncurried"]=n["Data.Function.Uncurried"]||{};var t=n["Data.Function.Uncurried"],e=n["Data.Function.Uncurried"];t.runFn4=e.runFn4}(n),function(n){"use strict";n.toStringAs=function(n){return function(t){return t.toString(n)}}}(n["Data.Int"]=n["Data.Int"]||{}),function(n){"use strict";n["Data.Int"]=n["Data.Int"]||{};var t=n["Data.Int"],e=n["Data.Int"];t.base36=36,t.toStringAs=e.toStringAs}(n),function(n){"use strict";n.null=null,n.nullable=function(n,t,e){return null==n?t:e(n)},n.notNull=function(n){return n}}(n["Data.Nullable"]=n["Data.Nullable"]||{}),function(n){"use strict";n["Data.Nullable"]=n["Data.Nullable"]||{};var t=n["Data.Nullable"],e=n["Data.Nullable"],r=n["Data.Maybe"],u=r.maybe(e.null)(e.notNull);t.toMaybe=function(n){return e.nullable(n,r.Nothing.value,r.Just.create)},t.toNullable=u,t.null=e.null}(n),function(n){"use strict";n.showIntImpl=function(n){return n.toString()}}(n["Data.Show"]=n["Data.Show"]||{}),function(n){"use strict";n["Data.Show"]=n["Data.Show"]||{};var t=n["Data.Show"],e=new function(n){this.show=n}(n["Data.Show"].showIntImpl);t.show=function(n){return n.show},t.showInt=e}(n),function(n){"use strict";n.toCharArray=function(n){return n.split("")}}(n["Data.String.CodeUnits"]=n["Data.String.CodeUnits"]||{}),function(n){"use strict";n["Data.String.CodeUnits"]=n["Data.String.CodeUnits"]||{};var t=n["Data.String.CodeUnits"],e=n["Data.String.CodeUnits"];t.toCharArray=e.toCharArray}(n),function(n){"use strict";n.replaceAll=function(n){return function(t){return function(e){return e.replace(new RegExp(n.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"),"g"),t)}}},n.split=function(n){return function(t){return t.split(n)}},n.trim=function(n){return n.trim()},n.joinWith=function(n){return function(t){return t.join(n)}}}(n["Data.String.Common"]=n["Data.String.Common"]||{}),function(n){"use strict";n["Data.String.Common"]=n["Data.String.Common"]||{};var t=n["Data.String.Common"],e=n["Data.String.Common"];t.null=function(n){return""===n},t.replaceAll=e.replaceAll,t.split=e.split,t.trim=e.trim,t.joinWith=e.joinWith}(n),function(n){"use strict";n.regexImpl=function(n){return function(t){return function(e){return function(r){try{return t(new RegExp(e,r))}catch(t){return n(t.message)}}}}},n.test=function(n){return function(t){var e=n.lastIndex,r=n.test(t);return n.lastIndex=e,r}},n.replace=function(n){return function(t){return function(e){return e.replace(n,t)}}}}(n["Data.String.Regex"]=n["Data.String.Regex"]||{}),function(n){"use strict";n["Data.String.Regex"]=n["Data.String.Regex"]||{};var t=n["Data.String.Regex"],e=n["Data.String.Regex"],r=n["Data.Either"];t.regex=function(n){return function(t){return e.regexImpl(r.Left.create)(r.Right.create)(n)(((u=t).value0.global?"g":"")+(u.value0.ignoreCase?"i":"")+(u.value0.multiline?"m":"")+(u.value0.sticky?"y":"")+(u.value0.unicode?"u":""));var u}},t.test=e.test,t.replace=e.replace}(n),function(n){"use strict";n["Data.String.Regex.Flags"]=n["Data.String.Regex.Flags"]||{};var t=n["Data.String.Regex.Flags"],e=function(){function n(n){this.value0=n}return n.create=function(t){return new n(t)},n}(),r=new e({global:!1,ignoreCase:!1,multiline:!1,sticky:!1,unicode:!1}),u=new e({global:!0,ignoreCase:!1,multiline:!1,sticky:!1,unicode:!1});t.noFlags=r,t.global=u}(n),function(n){"use strict";n["Data.String.Regex.Unsafe"]=n["Data.String.Regex.Unsafe"]||{};var t=n["Data.String.Regex.Unsafe"],e=n["Data.Either"],r=n["Data.String.Regex"];t.unsafeRegex=function(n){return function(t){return e.fromRight()(r.regex(n)(t))}}}(n),function(n){"use strict";n.traverseArrayImpl=function(){function n(n){return[n]}function t(n){return function(t){return[n,t]}}function e(n){return function(t){return function(e){return[n,t,e]}}}function r(n){return function(t){return n.concat(t)}}return function(u){return function(a){return function(i){return function(o){return function(c){return function f(l,s){switch(s-l){case 0:return i([]);case 1:return a(n)(o(c[l]));case 2:return u(a(t)(o(c[l])))(o(c[l+1]));case 3:return u(u(a(e)(o(c[l])))(o(c[l+1])))(o(c[l+2]));default:var d=l+2*Math.floor((s-l)/4);return u(a(r)(f(l,d)))(f(d,s))}}(0,c.length)}}}}}}()}(n["Data.Traversable"]=n["Data.Traversable"]||{}),function(n){"use strict";n["Data.Traversable"]=n["Data.Traversable"]||{};var t=n["Data.Traversable"],e=n["Data.Traversable"],r=n["Control.Applicative"],u=n["Control.Apply"],a=n["Control.Category"],i=n["Data.Foldable"],o=n["Data.Functor"],c=function(n){return n.traverse},f=new function(n,t,e,r){this.Foldable1=n,this.Functor0=t,this.sequence=e,this.traverse=r}((function(){return i.foldableArray}),(function(){return o.functorArray}),(function(n){return(t=f,function(n){return c(t)(n)(a.identity(a.categoryFn))})(n);var t}),(function(n){return e.traverseArrayImpl(u.apply(n.Apply0()))(o.map(n.Apply0().Functor0()))(r.pure(n))}));t.for=function(n){return function(t){return function(e){return function(r){return c(t)(n)(r)(e)}}}},t.traversableArray=f}(n),function(n){"use strict";n.unsafeToForeign=function(n){return n},n.unsafeFromForeign=function(n){return n}}(n.Foreign=n.Foreign||{}),function(n){"use strict";n.Foreign=n.Foreign||{};var t=n.Foreign,e=n.Foreign;t.unsafeToForeign=e.unsafeToForeign,t.unsafeFromForeign=e.unsafeFromForeign}(n),function(n){"use strict";function t(n){return function(t){var e=[];for(var r in t)hasOwnProperty.call(t,r)&&e.push(n(r)(t[r]));return e}}n._copyST=function(n){return function(){var t={};for(var e in n)hasOwnProperty.call(n,e)&&(t[e]=n[e]);return t}},n.empty={},n.runST=function(n){return n()},n.size=function(n){var t=0;for(var e in n)hasOwnProperty.call(n,e)&&++t;return t},n._lookup=function(n,t,e,r){return e in r?t(r[e]):n},n.toArrayWithKey=t,n.keys=Object.keys||t((function(n){return function(){return n}}))}(n["Foreign.Object"]=n["Foreign.Object"]||{}),function(n){"use strict";n.new=function(){return{}},n.poke=function(n){return function(t){return function(e){return function(){return e[n]=t,e}}}},n.delete=function(n){return function(t){return function(){return delete t[n],t}}}}(n["Foreign.Object.ST"]=n["Foreign.Object.ST"]||{}),function(n){"use strict";n["Foreign.Object.ST"]=n["Foreign.Object.ST"]||{};var t=n["Foreign.Object.ST"],e=n["Foreign.Object.ST"];t.new=e.new,t.poke=e.poke,t.delete=e.delete}(n),function(n){"use strict";n["Foreign.Object"]=n["Foreign.Object"]||{};var t=n["Foreign.Object"],e=n["Foreign.Object"],r=n["Control.Monad.ST.Internal"],u=n["Data.Array"],a=n["Data.Function"],i=n["Data.Function.Uncurried"],o=n["Data.Functor"],c=n["Data.Maybe"],f=n["Data.Tuple"],l=n["Foreign.Object.ST"],s=e.toArrayWithKey((function(n){return function(n){return n}})),d=e._copyST,p=function(n){return function(t){return e.runST((function(){var e=d(t)();return n(e)(),e}))}},v=i.runFn4(e._lookup)(!1)(a.const(!0)),m=i.runFn4(e._lookup)(c.Nothing.value)(c.Just.create);t.insert=function(n){return function(t){return p(l.poke(n)(t))}},t.lookup=m,t.toUnfoldable=function(n){var t=u.toUnfoldable(n),r=e.toArrayWithKey(f.Tuple.create);return function(n){return t(r(n))}},t.fromFoldable=function(n){return function(t){return e.runST((function(){var e=l.new();return r.foreach(u.fromFoldable(n)(t))((function(n){return o.void(r.functorST)(l.poke(n.value0)(n.value1)(e))}))(),e}))}},t.delete=function(n){return p(l.delete(n))},t.member=v,t.values=s,t.empty=e.empty,t.size=e.size,t.keys=e.keys}(n),function(n){"use strict";n["Grain.Class.LProxy"]=n["Grain.Class.LProxy"]||{};var t=n["Grain.Class.LProxy"],e=function(){function n(){}return n.value=new n,n}();t.LProxy=e,t.LocalGrain=function(n,t){this.initialState=n,this.typeRefOf=t},t.initialState=function(n){return n.initialState},t.typeRefOf=function(n){return n.typeRefOf}}(n),function(n){"use strict";n["Grain.Class"]=n["Grain.Class"]||{};var t=n["Grain.Class"],e=n["Grain.Class.LProxy"],r=function(n,t,e,r){this.initialState=n,this.keySuffix=t,this.typeRefOf=e,this.which=r};t.initialState=function(n){return n.initialState},t.keySuffix=function(n){return n.keySuffix},t.typeRefOf=function(n){return n.typeRefOf},t.which=function(n){return n.which},t.grainLProxy=function(n){return new r(e.initialState(n),(function(n){return""}),e.typeRefOf(n),(function(n){return function(n){return n.local}}))}}(n),function(n){"use strict";n.reallyUnsafeRefEq=function(n){return function(t){return n===t}}}(n["Unsafe.Reference"]=n["Unsafe.Reference"]||{}),function(n){"use strict";n["Unsafe.Reference"]=n["Unsafe.Reference"]||{};var t=n["Unsafe.Reference"],e=n["Unsafe.Reference"].reallyUnsafeRefEq;t.unsafeRefEq=e}(n),function(n){"use strict";n["Grain.Emitter"]=n["Grain.Emitter"]||{};var t=n["Grain.Emitter"],e=n["Data.Array"],r=n["Data.Foldable"],u=n["Data.Function"],a=n["Data.Functor"],i=n["Data.HeytingAlgebra"],o=n.Effect,c=n["Effect.Ref"],f=n["Unsafe.Reference"],l=a.map(o.functorEffect)((function(n){return n}))(c.new([]));t.createEmitter=l,t.subscribe=function(n){return function(t){return c.modify_(u.flip(e.snoc)(n))(t)}},t.unsubscribe=function(n){return function(t){return c.modify_(e.filter((r=i.not(i.heytingAlgebraBoolean),u=f.unsafeRefEq(n),function(n){return r(u(n))})))(t);var r,u}},t.emit=function(n){return function(){var t=c.read(n)();return r.sequence_(o.applicativeEffect)(r.foldableArray)(t)()}}}(n),function(n){"use strict";n.new=function(){return new Map},n.getImpl=function(n,t){return t.get(n)},n.setImpl=function(n,t,e){return e.set(n,t),{}};for(var t="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto),e=new Uint8Array(16),r=[],u=0;u<256;++u)r.push((u+256).toString(16).substr(1));n.randomKey=function(){var n=t(e);return n[6]=15&n[6]|64,n[8]=63&n[8]|128,(r[n[0]]+r[n[1]]+r[n[2]]+r[n[3]]+r[n[4]]+r[n[5]]+r[n[6]]+r[n[7]]+r[n[8]]+r[n[9]]+r[n[10]]+r[n[11]]+r[n[12]]+r[n[13]]+r[n[14]]+r[n[15]]).toLowerCase()}}(n["Grain.TypeKeyRef"]=n["Grain.TypeKeyRef"]||{}),function(n){"use strict";n["Grain.TypeKeyRef"]=n["Grain.TypeKeyRef"]||{};var t=n["Grain.TypeKeyRef"],e=n["Grain.TypeKeyRef"],r=n["Data.Functor"],u=n["Data.Maybe"],a=n["Data.Nullable"],i=n.Effect;t.read=function(n){return function(t){return function(){var o=function(n){return function(t){return r.map(i.functorEffect)(a.toMaybe)((function(){return e.getImpl(n,t)}))}}(n)(t)();if(o instanceof u.Just)return o.value0;if(o instanceof u.Nothing){var c=e.randomKey();return function(n){return function(t){return function(r){return function(){return e.setImpl(n,t,r)}}}}(n)(c)(t)(),c}throw new Error("Failed pattern match at Grain.TypeKeyRef (line 20, column 3 - line 25, column 19): "+[o.constructor.name])}}},t.new=e.new}(n),function(n){"use strict";n["Grain.Store"]=n["Grain.Store"]||{};var t=n["Grain.Store"],e=n["Data.Functor"],r=n["Data.Maybe"],u=n.Effect,a=n["Effect.Ref"],i=n.Foreign,o=n["Foreign.Object"],c=n["Grain.Class"],f=n["Grain.Emitter"],l=n["Grain.TypeKeyRef"],s=function(n){return function(t){return function(s){return function(){var d=function(n){return function(t){return function(e){return function(){return l.read(c.typeRefOf(n)(t))(e.typeKeyRef)()+c.keySuffix(n)(t)}}}}(n)(t)(s)(),p=e.map(u.functorEffect)(o.lookup(d))(a.read(s.partsRef))();if(p instanceof r.Just)return p.value0;if(p instanceof r.Nothing){var v=c.initialState(n)(t)(),m=a.new(i.unsafeToForeign(v))(),b={emitter:f.createEmitter(),valueRef:m};return a.modify_(o.insert(d)(b))(s.partsRef)(),b}throw new Error("Failed pattern match at Grain.Store (line 104, column 3 - line 112, column 16): "+[p.constructor.name])}}}};t.createStore=function(){return{typeKeyRef:l.new(),partsRef:a.new(o.empty)()}},t.readGrain=function(n){return function(t){return function(e){return function(){var r=s(n)(t)(e)(),u=a.read(r.valueRef)();return i.unsafeFromForeign(u)}}}},t.subscribeGrain=function(n){return function(t){return function(e){return function(r){return function(){var u=s(n)(t)(r)();return f.subscribe(e)(u.emitter)()}}}}},t.unsubscribeGrain=function(n){return function(t){return function(e){return function(r){return function(){var u=s(n)(t)(r)();return f.unsubscribe(e)(u.emitter)()}}}}},t.updateGrain=function(n){return function(t){return function(e){return function(r){return function(){var u=s(n)(t)(r)();return a.modify_(e)(u.valueRef)(),f.emit(u.emitter)()}}}}}}(n),function(n){"use strict";n.createElement=function(n){return function(t){return function(){return t.createElement(n)}}},n._createElementNS=function(n){return function(t){return function(e){return function(){return e.createElementNS(n,t)}}}},n.createTextNode=function(n){return function(t){return function(){return t.createTextNode(n)}}}}(n["Web.DOM.Document"]=n["Web.DOM.Document"]||{}),function(n){"use strict";n["Web.DOM.Document"]=n["Web.DOM.Document"]||{};var t=n["Web.DOM.Document"],e=n["Web.DOM.Document"],r=n["Data.Nullable"];t.createElementNS=function(n){return e._createElementNS(r.toNullable(n))},t.createElement=e.createElement,t.createTextNode=e.createTextNode}(n),function(n){"use strict";n.classList=function(n){return function(){return n.classList}},n.setAttribute=function(n){return function(t){return function(e){return function(){return e.setAttribute(n,t),{}}}}},n._getAttribute=function(n){return function(t){return function(){return t.getAttribute(n)}}},n.removeAttribute=function(n){return function(t){return function(){return t.removeAttribute(n),{}}}}}(n["Web.DOM.Element"]=n["Web.DOM.Element"]||{}),function(n){"use strict";n._unsafeReadProtoTagged=function(n,t,e,r){if("undefined"!=typeof window){var u=window[e];return null!=u&&r instanceof u?t(r):n}for(var a=r;null!=a;){var i=Object.getPrototypeOf(a),o=i.constructor.name;if(o===e)return t(r);if("Object"===o)return n;a=i}return n}}(n["Web.Internal.FFI"]=n["Web.Internal.FFI"]||{}),function(n){"use strict";n["Web.Internal.FFI"]=n["Web.Internal.FFI"]||{};var t=n["Web.Internal.FFI"],e=n["Web.Internal.FFI"],r=n["Data.Maybe"];t.unsafeReadProtoTagged=function(n){return function(t){return e._unsafeReadProtoTagged(r.Nothing.value,r.Just.create,n,t)}}}(n),function(n){"use strict";n["Web.DOM.Element"]=n["Web.DOM.Element"]||{};var t=n["Web.DOM.Element"],e=n["Web.DOM.Element"],r=n["Data.Functor"],u=n["Data.Nullable"],a=n.Effect,i=n["Unsafe.Coerce"],o=n["Web.Internal.FFI"],c=i.unsafeCoerce,f=o.unsafeReadProtoTagged("Element");t.fromNode=f,t.toNode=c,t.getAttribute=function(n){var t=r.map(a.functorEffect)(u.toMaybe),i=e._getAttribute(n);return function(n){return t(i(n))}},t.classList=e.classList,t.setAttribute=e.setAttribute,t.removeAttribute=e.removeAttribute}(n),function(n){"use strict";var t;n.childNodes=(t="childNodes",function(n){return function(){return n[t]}}),n.setTextContent=function(n){return function(t){return function(){return t.textContent=n,{}}}},n.insertBefore=function(n){return function(t){return function(e){return function(){return e.insertBefore(n,t)}}}},n.appendChild=function(n){return function(t){return function(){return t.appendChild(n)}}},n.removeChild=function(n){return function(t){return function(){return t.removeChild(n)}}}}(n["Web.DOM.Node"]=n["Web.DOM.Node"]||{}),function(n){"use strict";n["Web.DOM.Node"]=n["Web.DOM.Node"]||{};var t=n["Web.DOM.Node"],e=n["Web.DOM.Node"];t.childNodes=e.childNodes,t.setTextContent=e.setTextContent,t.insertBefore=e.insertBefore,t.appendChild=e.appendChild,t.removeChild=e.removeChild}(n),function(n){"use strict";n.window=function(){return window}}(n["Web.HTML"]=n["Web.HTML"]||{}),function(n){"use strict";n["Web.HTML"]=n["Web.HTML"]||{};var t=n["Web.HTML"],e=n["Web.HTML"];t.window=e.window}(n),function(n){"use strict";n._head=function(n){return function(){return n.head}}}(n["Web.HTML.HTMLDocument"]=n["Web.HTML.HTMLDocument"]||{}),function(n){"use strict";n["Web.HTML.HTMLDocument"]=n["Web.HTML.HTMLDocument"]||{};var t,e=n["Web.HTML.HTMLDocument"],r=n["Web.HTML.HTMLDocument"],u=n["Data.Functor"],a=n["Data.Nullable"],i=n.Effect,o=n["Unsafe.Coerce"],c=o.unsafeCoerce,f=o.unsafeCoerce,l=(t=u.map(i.functorEffect)(a.toMaybe),function(n){return t(r._head(n))});e.toDocument=f,e.toParentNode=c,e.head=l}(n),function(n){"use strict";n["Web.HTML.HTMLElement"]=n["Web.HTML.HTMLElement"]||{};var t=n["Web.HTML.HTMLElement"],e=n["Unsafe.Coerce"].unsafeCoerce;t.toNode=e}(n),function(n){"use strict";n.document=function(n){return function(){return n.document}},n._requestAnimationFrame=function(n){return function(t){return function(){return t.requestAnimationFrame(n)}}}}(n["Web.HTML.Window"]=n["Web.HTML.Window"]||{}),function(n){"use strict";n["Web.HTML.Window"]=n["Web.HTML.Window"]||{};var t=n["Web.HTML.Window"],e=n["Web.HTML.Window"],r=n["Data.Functor"],u=n.Effect,a=function(n){return n};t.requestAnimationFrame=function(n){var t=r.map(u.functorEffect)(a),i=e._requestAnimationFrame(n);return function(n){return t(i(n))}},t.document=e.document}(n),function(n){"use strict";n["Grain.Styler"]=n["Grain.Styler"]||{};var t,e,r=n["Grain.Styler"],u=n["Control.Applicative"],a=n["Control.Bind"],i=n["Data.Char"],o=n["Data.Foldable"],c=n["Data.Functor"],f=n["Data.Int"],l=n["Data.Maybe"],s=n["Data.String.CodeUnits"],d=n["Data.String.Common"],p=n["Data.String.Regex"],v=n["Data.String.Regex.Flags"],m=n["Data.String.Regex.Unsafe"],b=n.Effect,h=n["Effect.Ref"],E=n["Foreign.Object"],y=n["Web.DOM.Document"],g=n["Web.DOM.Element"],D=n["Web.DOM.Node"],w=n["Web.HTML"],C=n["Web.HTML.HTMLDocument"],x=n["Web.HTML.HTMLElement"],M=n["Web.HTML.Window"],T=(t=p.replace(m.unsafeRegex("\\s\\s+")(v.global))(" "),e=d.replaceAll("\n")(""),function(n){return t(e(d.trim(n)))}),F=c.mapFlipped(b.functorEffect)(c.map(b.functorEffect)(l.fromJust())(a.bind(b.bindEffect)(a.bind(b.bindEffect)(w.window)(M.document))(C.head)))(x.toNode);r.mountStyler=function(){var n;return{node:(n=a.bind(b.bindEffect)(c.mapFlipped(b.functorEffect)(a.bind(b.bindEffect)(w.window)(M.document))(C.toDocument))(y.createElement("style"))(),a.bind(b.bindEffect)(F)(D.appendChild(g.toNode(n)))()),stylesRef:h.new(E.empty)()}},r.registerStyle=function(n){return function(t){var e,r,a=T(n),l="g"+(e=a,r=o.foldr(o.foldableArray)((function(n){return function(t){return(33*t|0)^i.toCharCode(n)}}))(5381)(s.toCharArray(e)),f.toStringAs(f.base36)(r>>>0));return function(){var n,e,r=h.read(t.stylesRef)();return u.unless(b.applicativeEffect)(E.member(l)(r))((e=(n=l,function(t){return d.replaceAll("&")(n)(t)})(a),function(){var n,r=c.map(b.functorEffect)((n=d.joinWith(""),function(t){return n(E.values(t))}))(h.modify(E.insert(l)(e))(t.stylesRef))();return D.setTextContent(r)(t.node)()}))(),l}}}}(n),function(n){"use strict";n["Grain.UI.Diff"]=n["Grain.UI.Diff"]||{};var t=n["Grain.UI.Diff"],e=n["Control.Applicative"],r=n["Control.Bind"],u=n["Control.Monad.Rec.Class"],a=n["Data.Array"],i=n["Data.Boolean"],o=n["Data.Foldable"],c=n["Data.Function"],f=n["Data.Functor"],l=n["Data.Maybe"],s=n["Data.Tuple"],d=n["Data.Unit"],p=n["Foreign.Object"],v=function(){function n(){}return n.value=new n,n}(),m=function(){function n(){}return n.value=new n,n}(),b=function(n){this.getKey=n},h=function(n){return function(t){return o.foldl(o.foldableArray)((function(n){return function(t){if(t.value1 instanceof v)return n<t.value0?n:n+1|0;if(t.value1 instanceof m)return n<t.value0?n:n-1|0;throw new Error("Failed pattern match at Grain.UI.Diff (line 105, column 5 - line 105, column 90): "+[n.constructor.name,t.constructor.name])}}))(n)(t.realOperations)}},E=function(n){return function(t){return{currents:t.currents,nexts:t.nexts,currentStart:t.currentStart,currentEnd:t.currentEnd,nextStart:t.nextStart,nextEnd:t.nextEnd,realOperations:a.snoc(t.realOperations)(new s.Tuple(n,m.value)),keyToIndex:t.keyToIndex}}},y=function(n){return function(t){return{currents:t.currents,nexts:t.nexts,currentStart:t.currentStart,currentEnd:t.currentEnd,nextStart:t.nextStart,nextEnd:t.nextEnd,realOperations:a.snoc(t.realOperations)(new s.Tuple(n,v.value)),keyToIndex:t.keyToIndex}}},g=function(n){return function(t){return{keyToIndex:p.delete(n)(t.keyToIndex),currentEnd:t.currentEnd,currentStart:t.currentStart,currents:t.currents,nextEnd:t.nextEnd,nextStart:t.nextStart,nexts:t.nexts,realOperations:t.realOperations}}},D=function(n){return n.getKey},w=function(n){return{currents:n.currents,nexts:n.nexts,currentStart:n.currentStart,currentEnd:n.currentEnd,nextStart:n.nextStart+1|0,nextEnd:n.nextEnd,realOperations:n.realOperations,keyToIndex:n.keyToIndex}},C=function(n){return a.index(n.nexts)(n.nextStart)},x=function(n){return a.index(n.nexts)(n.nextEnd)},M=function(n){return a.index(n.currents)(n.currentStart)},T=function(n){return a.index(n.currents)(n.currentEnd)};t.HasKey=b,t.diff=function(n){return function(t){return function(v){return function(m){return function(b){return function(F){var S,A=function(o){if(o.nextStart<=o.nextEnd){var c=D(n)(o.nextStart)(o.nexts[o.nextStart]),f=p.lookup(c)(o.keyToIndex);if(f instanceof l.Nothing)return r.discard(r.discardUnit)(t.Monad0().Bind1())(v({current:l.Nothing.value,next:new l.Just(o.nexts[o.nextStart]),parentNode:m,nodeIndex:o.nextStart,moveIndex:l.Nothing.value}))((function(){return e.pure(t.Monad0().Applicative0())(u.Loop.create(w(y(o.nextStart)(o))))}));if(f instanceof l.Just){var s=h(f.value0)(o);return r.discard(r.discardUnit)(t.Monad0().Bind1())(v({current:a.index(o.currents)(f.value0),next:new l.Just(o.nexts[o.nextStart]),parentNode:m,nodeIndex:s,moveIndex:new l.Just(o.nextStart)}))((function(){return e.pure(t.Monad0().Applicative0())(u.Loop.create((r=g(c),function(n){return w(r(n))})((n=s,function(t){var e=y(t),r=E(n);return function(n){return e(r(n))}})(o.nextStart)(o))));var n,r}))}throw new Error("Failed pattern match at Grain.UI.Diff (line 163, column 15 - line 186, column 46): "+[f.constructor.name])}if(p.size(o.keyToIndex)>0){var b=p.keys(o.keyToIndex)[0],C=l.fromJust()(p.lookup(b)(o.keyToIndex));s=h(C)(o);return r.discard(r.discardUnit)(t.Monad0().Bind1())(v({current:a.index(o.currents)(C),next:l.Nothing.value,parentNode:m,nodeIndex:s,moveIndex:l.Nothing.value}))((function(){return e.pure(t.Monad0().Applicative0())(u.Loop.create(g(b)(E(s)(o))))}))}if(i.otherwise)return e.pure(t.Monad0().Applicative0())(new u.Done(d.unit));throw new Error("Failed pattern match at Grain.UI.Diff (line 159, column 5 - line 200, column 37): "+[o.constructor.name])},R=(S=b,function(n){return{currents:S,nexts:n,currentStart:0,currentEnd:a.length(S)-1|0,nextStart:0,nextEnd:a.length(n)-1|0,realOperations:[],keyToIndex:p.empty}})(F),N=function(n){return function(t){return n instanceof l.Just&&t instanceof l.Just&&n.value0===t.value0}};return r.bind(t.Monad0().Bind1())(f.map(t.Monad0().Bind1().Apply0().Functor0())(function(n){return function(t){return{keyToIndex:t.currentStart>t.currentEnd?p.empty:p.fromFoldable(o.foldableArray)(c.flip(f.map(f.functorArray))(a.range(t.currentStart)(t.currentEnd))((function(e){return new s.Tuple(D(n)(e)(t.currents[e]),e)}))),currentEnd:t.currentEnd,currentStart:t.currentStart,currents:t.currents,nextEnd:t.nextEnd,nextStart:t.nextStart,nexts:t.nexts,realOperations:t.realOperations}}}(n))(u.tailRecM(t)((function(a){if(a.currentStart>a.currentEnd||a.nextStart>a.nextEnd)return e.pure(t.Monad0().Applicative0())(new u.Done(a));if(N(f.map(l.functorMaybe)(D(n)(a.currentStart))(M(a)))(f.map(l.functorMaybe)(D(n)(a.nextStart))(C(a))))return r.discard(r.discardUnit)(t.Monad0().Bind1())(v({current:M(a),next:C(a),parentNode:m,nodeIndex:a.currentStart,moveIndex:l.Nothing.value}))((function(){return e.pure(t.Monad0().Applicative0())(u.Loop.create(w({currents:(n=a).currents,nexts:n.nexts,currentStart:n.currentStart+1|0,currentEnd:n.currentEnd,nextStart:n.nextStart,nextEnd:n.nextEnd,realOperations:n.realOperations,keyToIndex:n.keyToIndex})));var n}));if(N(f.map(l.functorMaybe)(D(n)(a.currentEnd))(T(a)))(f.map(l.functorMaybe)(D(n)(a.nextEnd))(x(a))))return r.discard(r.discardUnit)(t.Monad0().Bind1())(v({current:T(a),next:x(a),parentNode:m,nodeIndex:a.currentEnd,moveIndex:l.Nothing.value}))((function(){return e.pure(t.Monad0().Applicative0())(u.Loop.create(function(n){return{currents:n.currents,nexts:n.nexts,currentStart:n.currentStart,currentEnd:n.currentEnd,nextStart:n.nextStart,nextEnd:n.nextEnd-1|0,realOperations:n.realOperations,keyToIndex:n.keyToIndex}}({currents:(n=a).currents,nexts:n.nexts,currentStart:n.currentStart,currentEnd:n.currentEnd-1|0,nextStart:n.nextStart,nextEnd:n.nextEnd,realOperations:n.realOperations,keyToIndex:n.keyToIndex})));var n}));if(i.otherwise)return e.pure(t.Monad0().Applicative0())(new u.Done(a));throw new Error("Failed pattern match at Grain.UI.Diff (line 137, column 5 - line 157, column 34): "+[a.constructor.name])}))(R)))((function(n){return u.tailRecM(t)(A)(n)}))}}}}}},t.hasKeyTuple=function(n){return new b((function(t){return function(e){return D(n)(t)(e.value0)}}))}}(n),function(n){"use strict";n.setForeignImpl=function(n,t,e){return e[n]=t,{}},n.setAttributeNSImpl=function(n,t,e,r){return r.setAttributeNS(n,t,e),{}},n.removeAttributeNSImpl=function(n,t,e){return e.removeAttributeNS(n,t),{}},n.isPropertyImpl=function(n,t){return n in t},n.isBooleanImpl=function(n,t){return"boolean"==typeof t[n]}}(n["Grain.UI.Util"]=n["Grain.UI.Util"]||{}),function(n){"use strict";n._item=function(n){return function(t){return function(){return t.item(n)}}}}(n["Web.DOM.NodeList"]=n["Web.DOM.NodeList"]||{}),function(n){"use strict";n["Web.DOM.NodeList"]=n["Web.DOM.NodeList"]||{};var t=n["Web.DOM.NodeList"],e=n["Web.DOM.NodeList"],r=n["Data.Functor"],u=n["Data.Nullable"],a=n.Effect;t.item=function(n){var t=r.map(a.functorEffect)(u.toMaybe),i=e._item(n);return function(n){return t(i(n))}}}(n),function(n){"use strict";n["Grain.UI.Util"]=n["Grain.UI.Util"]||{};var t=n["Grain.UI.Util"],e=n["Grain.UI.Util"],r=n["Control.Bind"],u=n["Data.Array"],a=n["Data.Functor"],i=n["Data.HeytingAlgebra"],o=n["Data.Maybe"],c=n["Data.String.Common"],f=n["Data.String.Regex"],l=n["Data.String.Regex.Flags"],s=n["Data.String.Regex.Unsafe"],d=n.Effect,p=n["Web.DOM.Document"],v=n["Web.DOM.Node"],m=n["Web.DOM.NodeList"],b=n["Web.HTML"],h=n["Web.HTML.HTMLDocument"],E=n["Web.HTML.Window"],y=s.unsafeRegex("^xlink:")(l.noFlags),g=new o.Just("http://www.w3.org/2000/svg"),D=f.test(y),w=a.mapFlipped(d.functorEffect)(r.bind(d.bindEffect)(b.window)(E.document))(h.toDocument);t.raf=function(n){return a.void(d.functorEffect)(r.bind(d.bindEffect)(b.window)(E.requestAnimationFrame(n)))},t.childNode=function(n){return function(t){return r.bind(d.bindEffect)(v.childNodes(t))(m.item(n))}},t.createText_=function(n){return r.bind(d.bindEffect)(w)(p.createTextNode(n))},t.createElement_=function(n){return r.bind(d.bindEffect)(w)(p.createElement(n))},t.createElementNS_=function(n){return r.bind(d.bindEffect)(w)(p.createElementNS(g)(n))},t.setAttributeNS_=function(n){return function(t){return function(r){return(u="http://www.w3.org/1999/xlink",function(n){return function(t){return function(r){return function(){return e.setAttributeNSImpl(u,n,t,r)}}}})(f.replace(y)("")(n))(t)(r);var u}}},t.removeAttributeNS_=function(n){return function(t){return(r="http://www.w3.org/1999/xlink",function(n){return function(t){return function(){return e.removeAttributeNSImpl(r,n,t)}}})(f.replace(y)("")(n))(t);var r}},t.classNames=function(n){return u.filter((t=i.not(i.heytingAlgebraBoolean),function(n){return t(c.null(n))}))(c.split(" ")(n));var t},t.hasXlinkPrefix=D,t.setForeign=function(n){return function(t){return function(r){return function(){return e.setForeignImpl(n,t,r)}}}},t.isProperty=function(n){return function(t){return e.isPropertyImpl(n,t)}},t.isBoolean=function(n){return function(t){return e.isBooleanImpl(n,t)}}}(n),function(n){"use strict";n.eventListener=function(n){return function(){return function(t){return n(t)()}}}}(n["Web.Event.EventTarget"]=n["Web.Event.EventTarget"]||{}),function(n){"use strict";n["Web.Event.EventTarget"]=n["Web.Event.EventTarget"]||{};var t=n["Web.Event.EventTarget"],e=n["Web.Event.EventTarget"];t.eventListener=e.eventListener}(n),function(n){"use strict";n["Grain.UI.Handler"]=n["Grain.UI.Handler"]||{};var t=n["Grain.UI.Handler"],e=n["Control.Applicative"],r=n["Control.Monad.Rec.Class"],u=n["Control.Safely"],a=n["Data.Array"],i=n["Data.Eq"],o=n["Data.Foldable"],c=n["Data.Maybe"],f=n["Data.Nullable"],l=n["Data.Tuple"],s=n["Data.Unfoldable"],d=n["Data.Unit"],p=n.Effect,v=n.Foreign,m=n["Foreign.Object"],b=n["Grain.UI.Util"],h=n["Web.Event.EventTarget"],E=function(n){return function(t){return function(e){return function(){var r=h.eventListener(t)();return b.setForeign(n)(v.unsafeToForeign(r))(e)()}}}};t.allocHandlers=function(n){return function(t){var e=m.toUnfoldable(s.unfoldableArray)(n);return u.for_(o.foldableArray)(r.monadRecEffect)(e)(l.uncurry((function(n){return function(e){return E(n)(e)(t)}})))}},t.updateHandlers=function(n){return function(t){return function(l){var s=a.union(i.eqString)(m.keys(n))(m.keys(t));return u.for_(o.foldableArray)(r.monadRecEffect)(s)((function(r){var u=m.lookup(r)(t),a=m.lookup(r)(n);if(a instanceof c.Nothing&&u instanceof c.Nothing)return e.pure(p.applicativeEffect)(d.unit);if(a instanceof c.Just&&u instanceof c.Nothing)return function(n){return b.setForeign(n)(v.unsafeToForeign(f.null))}(r)(l);if(u instanceof c.Just)return E(r)(u.value0)(l);throw new Error("Failed pattern match at Grain.UI.Handler (line 38, column 9 - line 41, column 56): "+[a.constructor.name,u.constructor.name])}))}}}}(n),function(n){"use strict";n.add=function(n){return function(t){return function(){return n.add(t)}}},n.remove=function(n){return function(t){return function(){return n.remove(t)}}}}(n["Web.DOM.DOMTokenList"]=n["Web.DOM.DOMTokenList"]||{}),function(n){"use strict";n["Web.DOM.DOMTokenList"]=n["Web.DOM.DOMTokenList"]||{};var t=n["Web.DOM.DOMTokenList"],e=n["Web.DOM.DOMTokenList"];t.add=e.add,t.remove=e.remove}(n),function(n){"use strict";n["Grain.UI.Prop"]=n["Grain.UI.Prop"]||{};var t=n["Grain.UI.Prop"],e=n["Control.Applicative"],r=n["Control.Bind"],u=n["Control.Monad.Rec.Class"],a=n["Control.Safely"],i=n["Data.Array"],o=n["Data.Boolean"],c=n["Data.Eq"],f=n["Data.Foldable"],l=n["Data.Function"],s=n["Data.Maybe"],d=n["Data.String.Common"],p=n["Data.Tuple"],v=n["Data.Unfoldable"],m=n["Data.Unit"],b=n.Effect,h=n.Foreign,E=n["Foreign.Object"],y=n["Grain.Styler"],g=n["Grain.UI.Util"],D=n["Web.DOM.DOMTokenList"],w=n["Web.DOM.Element"],C=w.setAttribute("data-grain-styler-class"),x=function(n){return function(t){return function(){var e=w.getAttribute("class")(t)();if(e instanceof s.Nothing)return m.unit;if(e instanceof s.Just){var r=d.joinWith(" ")(i.filter((function(t){return t!==n}))(g.classNames(e.value0)));return w.setAttribute("class")(r)(t)()}throw new Error("Failed pattern match at Grain.UI.Prop (line 152, column 3 - line 156, column 39): "+[e.constructor.name])}}},M=function(n){return function(t){return r.bind(b.bindEffect)(w.classList(t))(l.flip(D.remove)(n))}},T=function(n){return n?x:M},F=w.getAttribute("data-grain-styler-class"),S=function(n){return function(t){return function(r){return function(i){var o,c=n,d=t,p=r,v=!1;function E(n,t,r,o){return"css"===t?(v=!0,function(){var t=F(o)();if(t instanceof s.Nothing)return m.unit;if(t instanceof s.Just)return T(n)(t.value0)(o)();throw new Error("Failed pattern match at Grain.UI.Prop (line 103, column 3 - line 106, column 46): "+[t.constructor.name])}):"class"===t?(c=n,d="className",p=r,void(i=o)):"className"===t?(v=!0,a.for_(f.foldableArray)(u.monadRecEffect)(g.classNames(r))(l.flip(T(n))(o))):"style"===t?(v=!0,w.removeAttribute("style")(o)):"list"===t?(v=!0,w.removeAttribute("list")(o)):"form"===t?(v=!0,w.removeAttribute("form")(o)):"dropzone"===t?(v=!0,w.removeAttribute("dropzone")(o)):n&&g.hasXlinkPrefix(t)?(v=!0,g.removeAttributeNS_(t)(o)):(v=!0,function(){return e.when(b.applicativeEffect)(g.isProperty(t)(o)&&!n)(g.setForeign(t)(h.unsafeToForeign(""))(o))(),w.removeAttribute(t)(o)()})}for(;!v;)o=E(c,d,p,i);return o}}}},A=function(n){return function(t){return function(){var e=w.getAttribute("class")(t)();if(e instanceof s.Nothing)return w.setAttribute("class")(n)(t)();if(e instanceof s.Just){var r=d.joinWith(" ")(i.snoc(g.classNames(e.value0))(n));return w.setAttribute("class")(r)(t)()}throw new Error("Failed pattern match at Grain.UI.Prop (line 136, column 3 - line 141, column 39): "+[e.constructor.name])}}},R=function(n){return function(t){return r.bind(b.bindEffect)(w.classList(t))(l.flip(D.add)(n))}},N=function(n){return n?A:R},I=function(n){return function(t){return function(e){return function(r){return function(i){var o,c=n,s=t,d=e,p=r,v=!1;function m(n,t,e,r,o){return"css"===e?(v=!0,function(){var e=y.registerStyle(r)(n)();return S(t)("css")("dummyVal")(o)(),C(e)(o)(),N(t)(e)(o)()}):"class"===e?(c=n,s=t,d="className",p=r,void(i=o)):"className"===e?(v=!0,a.for_(f.foldableArray)(u.monadRecEffect)(g.classNames(r))(l.flip(N(t))(o))):"style"===e?(v=!0,w.setAttribute("style")(r)(o)):"list"===e?(v=!0,w.setAttribute("list")(r)(o)):"form"===e?(v=!0,w.setAttribute("form")(r)(o)):"dropzone"===e?(v=!0,w.setAttribute("dropzone")(r)(o)):g.isProperty(e)(o)&&!t?g.isBoolean(e)(o)?(v=!0,g.setForeign(e)(h.unsafeToForeign(!("false"===r)))(o)):(v=!0,g.setForeign(e)(h.unsafeToForeign(r))(o)):t&&g.hasXlinkPrefix(e)?(v=!0,g.setAttributeNS_(e)(r)(o)):(v=!0,w.setAttribute(e)(r)(o))}for(;!v;)o=m(c,s,d,p,i);return o}}}}};t.allocProps=function(n){return function(t){return function(e){return function(r){var i=E.toUnfoldable(v.unfoldableArray)(e);return a.for_(f.foldableArray)(u.monadRecEffect)(i)(p.uncurry((function(e){return function(u){return I(n)(t)(e)(u)(r)}})))}}}},t.updateProps=function(n){return function(t){return function(r){return function(p){return function(v){var h=i.union(c.eqString)(E.keys(r))(E.keys(p));return a.for_(f.foldableArray)(u.monadRecEffect)(h)((function(u){var a=E.lookup(u)(p),h=E.lookup(u)(r);if(h instanceof s.Nothing&&a instanceof s.Nothing)return e.pure(b.applicativeEffect)(m.unit);if(h instanceof s.Just&&a instanceof s.Nothing)return S(t)(u)(h.value0)(v);if(h instanceof s.Nothing&&a instanceof s.Just)return I(n)(t)(u)(a.value0)(v);if(h instanceof s.Just&&a instanceof s.Just){if(h.value0===a.value0)return e.pure(b.applicativeEffect)(m.unit);if(f.notElem(f.foldableArray)(c.eqString)(u)(["class","className"]))return I(n)(t)(u)(a.value0)(v);if(o.otherwise){var y=g.classNames(a.value0),D=g.classNames(h.value0),w=i.filter(l.flip(f.notElem(f.foldableArray)(c.eqString))(y))(D),C=i.filter(l.flip(f.notElem(f.foldableArray)(c.eqString))(D))(y);return function(){return S(t)(u)(d.joinWith(" ")(w))(v)(),I(n)(t)(u)(d.joinWith(" ")(C))(v)()}}}throw new Error("Failed pattern match at Grain.UI.Prop (line 44, column 7 - line 58, column 73): "+[h.constructor.name,a.constructor.name])}))}}}}}}(n),function(n){"use strict";n["Grain.UI.Element"]=n["Grain.UI.Element"]||{};var t=n["Grain.UI.Element"],e=n["Grain.UI.Handler"],r=n["Grain.UI.Prop"],u=n["Grain.UI.Util"];t.allocElement=function(n){return function(t){return function(a){return function(){var i=t?u.createElementNS_(a.tagName)():u.createElement_(a.tagName)();return r.allocProps(n)(t)(a.props)(i)(),e.allocHandlers(a.handlers)(i)(),i}}}},t.updateElement=function(n){return function(t){return function(u){return function(a){return function(i){return function(){return r.updateProps(n)(t)(u.props)(a.props)(i)(),e.updateHandlers(u.handlers)(a.handlers)(i)()}}}}}}}(n),function(n){"use strict";n["Web.DOM.Text"]=n["Web.DOM.Text"]||{};var t=n["Web.DOM.Text"],e=n["Unsafe.Coerce"].unsafeCoerce;t.toNode=e}(n),function(n){"use strict";n["Grain.UI"]=n["Grain.UI"]||{};var t,e=n["Grain.UI"],r=n["Control.Applicative"],u=n["Control.Apply"],a=n["Control.Bind"],i=n["Control.Monad.Reader.Class"],o=n["Control.Monad.Reader.Trans"],c=n["Control.Monad.Rec.Class"],f=n["Data.Array"],l=n["Data.Eq"],s=n["Data.Foldable"],d=n["Data.Function"],p=n["Data.Functor"],v=n["Data.Maybe"],m=n["Data.Show"],b=n["Data.Traversable"],h=n["Data.Tuple"],E=n["Data.Unit"],y=n.Effect,g=n["Effect.Class"],D=n["Effect.Ref"],w=n["Foreign.Object"],C=n["Grain.Class"],x=n["Grain.Store"],M=n["Grain.Styler"],T=n["Grain.UI.Diff"],F=n["Grain.UI.Element"],S=n["Grain.UI.Util"],A=n["Web.DOM.Element"],R=n["Web.DOM.Node"],N=n["Web.DOM.Text"],I=function(){function n(n,t){this.value0=n,this.value1=t}return n.create=function(t){return function(e){return new n(t,e)}},n}(),U=function(){function n(n){this.value0=n}return n.create=function(t){return new n(t)},n}(),k=function(){function n(n){this.value0=n}return n.create=function(t){return new n(t)},n}(),O=function(){function n(n){this.value0=n}return n.create=function(t){return new n(t)},n}(),W=function(){function n(n){this.value0=n}return n.create=function(t){return new n(t)},n}(),G=function(){function n(n){this.value0=n}return n.create=function(t){return new n(t)},n}(),L=function(n){return p.mapFlipped(y.functorEffect)(D.read(n))((function(n){return n.node}))},H=function(n){return function(){return a.join(y.bindEffect)(p.mapFlipped(y.functorEffect)(D.read(n))((function(n){return n.unsubscribe})))(),d.flip(D.modify_)(n)((function(n){return{node:n.node,rendering:n.rendering,unsubscribe:r.pure(y.applicativeEffect)(E.unit),render:n.render,history:n.history,store:n.store,context:n.context,portalHistory:n.portalHistory}}))()}},B=(t=I.create(v.Nothing.value),function(n){return t(U.create(n))}),J=function(n){return function(t){return d.flip(D.modify_)(t)((function(t){return{node:n,rendering:t.rendering,unsubscribe:t.unsubscribe,render:t.render,history:t.history,store:t.store,context:t.context,portalHistory:t.portalHistory}}))}},q=function(n){var t=o.runReaderT(n);return function(n){return t(n)}},_=function(n){return function(t){return D.new({node:n,childrenHistory:[t]})}},j=new T.HasKey((function(n){return function(t){var e=v.fromMaybe(m.show(m.showInt)(n))(t.value0);if(t.value1 instanceof U)return"text_"+e;if(t.value1 instanceof k)return"element_"+t.value1.value0.tagName+"_"+e;if(t.value1 instanceof O)return"component_"+e;throw new Error("Failed pattern match at Grain.UI (line 72, column 5 - line 78, column 35): "+[t.value1.constructor.name])}})),P=function(n){return I.create(v.Nothing.value)(new k({fingerprint:v.Nothing.value,tagName:n,props:w.empty,handlers:w.empty,children:[],didCreate:d.const(r.pure(y.applicativeEffect)(E.unit)),didUpdate:d.const(r.pure(y.applicativeEffect)(E.unit)),didDelete:d.const(r.pure(y.applicativeEffect)(E.unit))}))},K=function(n){return p.map(y.functorEffect)(h.Tuple.create(n))(D.new(v.Nothing.value))},z=function(n){return b.for(y.applicativeEffect)(b.traversableArray)(n)(K)},V=function(n){return p.mapFlipped(y.functorEffect)(D.read(n))((function(n){return n.context}))},Q=function(n){return p.mapFlipped(y.functorEffect)(D.read(n))((function(n){return n.node}))},X=o.bindReaderT(y.bindEffect),$=o.applicativeReaderT(y.applicativeEffect),Y=function(n){return function(t){return d.flip(D.modify_)(t)((function(t){return{node:t.node,rendering:t.rendering,unsubscribe:s.sequence_(y.applicativeEffect)(s.foldableArray)([t.unsubscribe,n]),render:t.render,history:t.history,store:t.store,context:t.context,portalHistory:t.portalHistory}}))}},Z=function(n){return function(t){return function(){var e=K(n)();return p.map(y.functorEffect)((function(n){return n.history}))(d.flip(D.modify)(t)((function(n){return{node:n.node,rendering:n.rendering,unsubscribe:n.unsubscribe,render:n.render,history:f.take(2)(f.cons(e)(n.history)),store:n.store,context:n.context,portalHistory:n.portalHistory}})))()}}},nn=function(n){return function(){H(n)();var t=function(n){return p.mapFlipped(y.functorEffect)(D.read(n))((function(n){return n.history}))}(n)(),e=a.bind(y.bindEffect)(V(n))(o.runReaderT(tn(f.index(t)(0))(v.Nothing.value)))();return J(e)(n)()}},tn=function(n){return function(t){if(n instanceof v.Nothing&&t instanceof v.Nothing)return r.pure(o.applicativeReaderT(y.applicativeEffect))(v.Nothing.value);if(n instanceof v.Nothing&&t instanceof v.Just)return an(new h.Tuple(t.value0.value0.value1,t.value0.value1));if(n instanceof v.Just&&t instanceof v.Nothing)return un(new h.Tuple(n.value0.value0.value1,n.value0.value1));if(n instanceof v.Just&&t instanceof v.Just)return function(n){return function(t){return n instanceof U&&t instanceof U?n.value0!==t.value0:n instanceof k&&t instanceof k?n.value0.fingerprint instanceof v.Nothing&&t.value0.fingerprint instanceof v.Nothing||l.notEq(v.eqMaybe(l.eqString))(n.value0.fingerprint)(t.value0.fingerprint):!(n instanceof O&&t instanceof O)||(n.value0.fingerprint instanceof v.Nothing&&t.value0.fingerprint instanceof v.Nothing||l.notEq(v.eqMaybe(l.eqString))(n.value0.fingerprint)(t.value0.fingerprint))}}(n.value0.value0.value1)(t.value0.value0.value1)?rn(new h.Tuple(n.value0.value0.value1,n.value0.value1))(new h.Tuple(t.value0.value0.value1,t.value0.value1)):g.liftEffect(o.monadEffectReader(g.monadEffectEffect))((function(){var e=D.read(n.value0.value1)();if(D.write(e)(t.value0.value1)(),e instanceof v.Nothing)return v.Nothing.value;if(e instanceof v.Just&&e.value0 instanceof W)return p.map(y.functorEffect)(v.Just.create)(L(e.value0.value0))();if(e instanceof v.Just&&e.value0 instanceof G)return Q(e.value0.value0)();throw new Error("Failed pattern match at Grain.UI (line 319, column 7 - line 324, column 37): "+[e.constructor.name])}));throw new Error("Failed pattern match at Grain.UI (line 301, column 1 - line 304, column 43): "+[n.constructor.name,t.constructor.name])}},en=function(n){return(t=n.current,function(n){return function(e){var r=function(n){return d.flip(i.local(o.monadReaderReaderT(y.monadEffect)))(e)((function(t){if(t.isSvg)return t;var e={};for(var r in t)({}).hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.isSvg=function(n){return"svg"===n.tagName}(n),e}))};return n instanceof v.Just&&n.value0.value0.value1 instanceof k?r(n.value0.value0.value1.value0):t instanceof v.Just&&t.value0.value0.value1 instanceof k?r(t.value0.value0.value1.value0):e}})(n.next)(a.bind(o.bindReaderT(y.bindEffect))(tn(n.current)(n.next))((function(t){return g.liftEffect(o.monadEffectReader(g.monadEffectEffect))(function(){if(t instanceof v.Just&&n.current instanceof v.Nothing&&n.next instanceof v.Just)return function(){var e=S.childNode(n.nodeIndex)(n.parentNode)();return p.void(y.functorEffect)(function(){if(e instanceof v.Nothing)return R.appendChild(t.value0)(n.parentNode);if(e instanceof v.Just)return R.insertBefore(t.value0)(e.value0)(n.parentNode);throw new Error("Failed pattern match at Grain.UI (line 264, column 14 - line 266, column 61): "+[e.constructor.name])}())()};if(t instanceof v.Just&&n.current instanceof v.Just&&n.next instanceof v.Nothing)return p.void(y.functorEffect)(R.removeChild(t.value0)(n.parentNode));if(t instanceof v.Just&&n.current instanceof v.Just&&n.next instanceof v.Just){if(n.moveIndex instanceof v.Nothing)return r.pure(y.applicativeEffect)(E.unit);if(n.moveIndex instanceof v.Just){var e=n.nodeIndex<n.moveIndex.value0?n.moveIndex.value0+1|0:n.moveIndex.value0;return function(){var r=S.childNode(e)(n.parentNode)();return p.void(y.functorEffect)(function(){if(r instanceof v.Nothing)return R.appendChild(t.value0)(n.parentNode);if(r instanceof v.Just)return R.insertBefore(t.value0)(r.value0)(n.parentNode);throw new Error("Failed pattern match at Grain.UI (line 275, column 18 - line 277, column 71): "+[r.constructor.name])}())()}}throw new Error("Failed pattern match at Grain.UI (line 270, column 9 - line 277, column 71): "+[n.moveIndex.constructor.name])}return r.pure(y.applicativeEffect)(E.unit)}())})));var t},rn=function(n){return function(t){return n.value0 instanceof U&&t.value0 instanceof U?a.bind(o.bindReaderT(y.bindEffect))(g.liftEffect(o.monadEffectReader(g.monadEffectEffect))(D.read(n.value1)))((function(n){return n instanceof v.Just&&n.value0 instanceof W?g.liftEffect(o.monadEffectReader(g.monadEffectEffect))((function(){var e=L(n.value0.value0)();return R.setTextContent(t.value0.value0)(e)(),D.write(v.Just.create(new W(n.value0.value0)))(t.value1)(),new v.Just(e)})):r.pure(o.applicativeReaderT(y.applicativeEffect))(v.Nothing.value)})):n.value0 instanceof k&&t.value0 instanceof k?a.bind(o.bindReaderT(y.bindEffect))(g.liftEffect(o.monadEffectReader(g.monadEffectEffect))(D.read(n.value1)))((function(e){return e instanceof v.Just&&e.value0 instanceof W?a.bind(o.bindReaderT(y.bindEffect))(g.liftEffect(o.monadEffectReader(g.monadEffectEffect))(L(e.value0.value0)))((function(u){var l=A.fromNode(u);return l instanceof v.Just?a.bind(o.bindReaderT(y.bindEffect))(i.ask(o.monadAskReaderT(y.monadEffect)))((function(r){return a.discard(a.discardUnit)(o.bindReaderT(y.bindEffect))(g.liftEffect(o.monadEffectReader(g.monadEffectEffect))(F.updateElement(r.styler)(r.isSvg)(n.value0.value0)(t.value0.value0)(l.value0)))((function(){return a.bind(o.bindReaderT(y.bindEffect))(g.liftEffect(o.monadEffectReader(g.monadEffectEffect))((n=t.value0.value0.children,function(t){return function(){var e=z(n)();return p.map(y.functorEffect)((function(n){return n.childrenHistory}))(d.flip(D.modify)(t)((function(n){return{node:n.node,childrenHistory:f.cons(e)(n.childrenHistory)}})))()}})(e.value0.value0)))((function(n){return a.discard(a.discardUnit)(o.bindReaderT(y.bindEffect))(T.diff(T.hasKeyTuple(j))(o.monadRecReaderT(c.monadRecEffect))(en)(u)(v.fromMaybe([])(f.index(n)(1)))(v.fromMaybe([])(f.index(n)(0))))((function(){return g.liftEffect(o.monadEffectReader(g.monadEffectEffect))((function(){return D.write(v.Just.create(new W(e.value0.value0)))(t.value1)(),S.raf(t.value0.value0.didUpdate(l.value0))(),new v.Just(u)}))}))}));var n}))})):r.pure(o.applicativeReaderT(y.applicativeEffect))(v.Nothing.value)})):r.pure(o.applicativeReaderT(y.applicativeEffect))(v.Nothing.value)})):n.value0 instanceof O&&t.value0 instanceof O?a.bind(o.bindReaderT(y.bindEffect))(g.liftEffect(o.monadEffectReader(g.monadEffectEffect))(D.read(n.value1)))((function(n){return n instanceof v.Just&&n.value0 instanceof G?g.liftEffect(o.monadEffectReader(g.monadEffectEffect))((function(){var e;(e=t.value0.value0.render,D.modify_((function(n){return{render:e,context:n.context,history:n.history,node:n.node,portalHistory:n.portalHistory,rendering:n.rendering,store:n.store,unsubscribe:n.unsubscribe}})))(n.value0.value0)();var r=cn(n.value0.value0)();return D.write(v.Just.create(new G(n.value0.value0)))(t.value1)(),r})):r.pure(o.applicativeReaderT(y.applicativeEffect))(v.Nothing.value)})):r.pure(o.applicativeReaderT(y.applicativeEffect))(v.Nothing.value)}},un=function(n){if(n.value0 instanceof U)return g.liftEffect(o.monadEffectReader(g.monadEffectEffect))((function(){var t=D.read(n.value1)();return t instanceof v.Just&&t.value0 instanceof W?p.map(y.functorEffect)(v.Just.create)(L(t.value0.value0))():v.Nothing.value}));if(n.value0 instanceof k)return a.bind(o.bindReaderT(y.bindEffect))(g.liftEffect(o.monadEffectReader(g.monadEffectEffect))(D.read(n.value1)))((function(t){return t instanceof v.Just&&t.value0 instanceof W?a.bind(o.bindReaderT(y.bindEffect))(g.liftEffect(o.monadEffectReader(g.monadEffectEffect))(L(t.value0.value0)))((function(e){return a.bind(o.bindReaderT(y.bindEffect))(g.liftEffect(o.monadEffectReader(g.monadEffectEffect))((u=t.value0.value0,p.mapFlipped(y.functorEffect)(D.read(u))((function(n){return n.childrenHistory})))))((function(t){return a.discard(a.discardUnit)(o.bindReaderT(y.bindEffect))(T.diff(T.hasKeyTuple(j))(o.monadRecReaderT(c.monadRecEffect))(en)(e)(v.fromMaybe([])(f.index(t)(0)))([]))((function(){return a.discard(a.discardUnit)(o.bindReaderT(y.bindEffect))(g.liftEffect(o.monadEffectReader(g.monadEffectEffect))(function(){var t=A.fromNode(e);if(t instanceof v.Nothing)return r.pure(y.applicativeEffect)(E.unit);if(t instanceof v.Just)return S.raf(n.value0.value0.didDelete(t.value0));throw new Error("Failed pattern match at Grain.UI (line 384, column 18 - line 386, column 40): "+[t.constructor.name])}()))((function(){return r.pure(o.applicativeReaderT(y.applicativeEffect))(new v.Just(e))}))}))}));var u})):r.pure(o.applicativeReaderT(y.applicativeEffect))(v.Nothing.value)}));if(n.value0 instanceof O)return g.liftEffect(o.monadEffectReader(g.monadEffectEffect))((function(){var t=D.read(n.value1)();return t instanceof v.Just&&t.value0 instanceof G?(nn(t.value0.value0)(),Q(t.value0.value0)()):v.Nothing.value}));throw new Error("Failed pattern match at Grain.UI (line 367, column 1 - line 369, column 43): "+[n.constructor.name])},an=function(n){if(n.value0 instanceof U)return g.liftEffect(o.monadEffectReader(g.monadEffectEffect))((function(){var t=p.mapFlipped(y.functorEffect)(S.createText_(n.value0.value0))(N.toNode)(),e=_(t)([])();return D.write(v.Just.create(new W(e)))(n.value1)(),new v.Just(t)}));if(n.value0 instanceof k)return a.bind(o.bindReaderT(y.bindEffect))(i.ask(o.monadAskReaderT(y.monadEffect)))((function(t){return a.bind(o.bindReaderT(y.bindEffect))(g.liftEffect(o.monadEffectReader(g.monadEffectEffect))(F.allocElement(t.styler)(t.isSvg)(n.value0.value0)))((function(t){return a.bind(o.bindReaderT(y.bindEffect))(g.liftEffect(o.monadEffectReader(g.monadEffectEffect))(z(n.value0.value0.children)))((function(e){var r=A.toNode(t);return a.discard(a.discardUnit)(o.bindReaderT(y.bindEffect))(T.diff(T.hasKeyTuple(j))(o.monadRecReaderT(c.monadRecEffect))(en)(r)([])(e))((function(){return g.liftEffect(o.monadEffectReader(g.monadEffectEffect))((function(){var u=_(r)(e)();return D.write(v.Just.create(new W(u)))(n.value1)(),S.raf(n.value0.value0.didCreate(t))(),new v.Just(r)}))}))}))}))}));if(n.value0 instanceof O)return a.bind(o.bindReaderT(y.bindEffect))(i.ask(o.monadAskReaderT(y.monadEffect)))((function(t){return g.liftEffect(o.monadEffectReader(g.monadEffectEffect))((function(){var e,u=(e=t,function(n){return function(){var t=x.createStore();return D.new({node:v.Nothing.value,rendering:!0,unsubscribe:r.pure(y.applicativeEffect)(E.unit),render:n,history:[],store:t,context:e,portalHistory:[]})()}})(n.value0.value0.render)(),a=cn(u)();return D.write(v.Just.create(new G(u)))(n.value1)(),a}))}));throw new Error("Failed pattern match at Grain.UI (line 339, column 1 - line 341, column 43): "+[n.constructor.name])},on=function(n){return function(t){return function(e){var r,u=function(){var r=t(),u=V(n)(),a=function(n){return function(t){return function(){var e=K(n)();return p.map(y.functorEffect)((function(n){return n.portalHistory}))(d.flip(D.modify)(t)((function(n){return{node:n.node,rendering:n.rendering,unsubscribe:n.unsubscribe,render:n.render,history:n.history,store:n.store,context:n.context,portalHistory:f.take(2)(f.cons(e)(n.portalHistory))}})))()}}}(e)(n)();return d.flip(o.runReaderT)(u)(en({current:f.index(a)(1),next:f.index(a)(0),parentNode:r,nodeIndex:0,moveIndex:v.Nothing.value}))()};return(r=d.const((function(){var e=t(),r=V(n)(),u=function(n){return p.mapFlipped(y.functorEffect)(D.read(n))((function(n){return n.portalHistory}))}(n)();return d.flip(o.runReaderT)(r)(en({current:f.index(u)(0),next:v.Nothing.value,parentNode:e,nodeIndex:0,moveIndex:v.Nothing.value}))()})),function(n){return n.value1 instanceof k?I.create(n.value0)(new k({fingerprint:n.value1.value0.fingerprint,tagName:n.value1.value0.tagName,props:n.value1.value0.props,handlers:n.value1.value0.handlers,children:n.value1.value0.children,didCreate:n.value1.value0.didCreate,didUpdate:n.value1.value0.didUpdate,didDelete:r})):n})(function(n){return function(t){return t.value1 instanceof k?I.create(t.value0)(new k({fingerprint:t.value1.value0.fingerprint,tagName:t.value1.value0.tagName,props:t.value1.value0.props,handlers:t.value1.value0.handlers,children:t.value1.value0.children,didCreate:t.value1.value0.didCreate,didUpdate:n,didDelete:t.value1.value0.didDelete})):t}}(d.const(u))(function(n){return function(t){return t.value1 instanceof k?I.create(t.value0)(new k({fingerprint:t.value1.value0.fingerprint,tagName:t.value1.value0.tagName,props:t.value1.value0.props,handlers:t.value1.value0.handlers,children:t.value1.value0.children,didCreate:n,didUpdate:t.value1.value0.didUpdate,didDelete:t.value1.value0.didDelete})):t}}(d.const(u))(P("span"))))}}},cn=function(n){var t=u.apply(y.applyEffect)(p.map(y.functorEffect)((function(n){return function(t){return{global:n,local:t}}}))(function(n){return p.mapFlipped(y.functorEffect)(V(n))((function(n){return n.store}))}(n)))(function(n){return p.mapFlipped(y.functorEffect)(D.read(n))((function(n){return n.store}))}(n)),e=on(n),i=a.bind(y.bindEffect)(function(n){return p.mapFlipped(y.functorEffect)(D.read(n))((function(n){return n.render}))}(n))(d.flip(q)({selectValue:function(e){return function(e){return function(r){return function(){var u=p.map(y.functorEffect)(C.which(e)(r))(t)();return x.subscribeGrain(e)(r)(c)(u)(),d.flip(Y)(n)(x.unsubscribeGrain(e)(r)(c)(u))(),x.readGrain(e)(r)(u)()}}}(e)},updateValue:function(n){return function(n){return function(e){return function(r){return a.bind(y.bindEffect)(p.map(y.functorEffect)(C.which(n)(e))(t))(x.updateGrain(n)(e)(r))}}}(n)},portalVNode:e})),c=function(){var t=function(n){return p.mapFlipped(y.functorEffect)(D.read(n))((function(n){return n.rendering}))}(n)();return r.when(y.applicativeEffect)(!t)((function(){return function(n){return d.flip(D.modify_)(n)((function(n){return{node:n.node,rendering:!0,unsubscribe:n.unsubscribe,render:n.render,history:n.history,store:n.store,context:n.context,portalHistory:n.portalHistory}}))}(n)(),S.raf(l)()}))()},l=function(){!function(n){return d.flip(D.modify_)(n)((function(n){return{node:n.node,rendering:!1,unsubscribe:n.unsubscribe,render:n.render,history:n.history,store:n.store,context:n.context,portalHistory:n.portalHistory}}))}(n)(),H(n)();var t=a.bind(y.bindEffect)(i)(d.flip(Z)(n))(),e=a.bind(y.bindEffect)(V(n))(o.runReaderT(tn(f.index(t)(1))(f.index(t)(0))))();return J(e)(n)()};return function(){return l(),Q(n)()}};e.key=function(n){return function(t){return new I(new v.Just(n),t.value1)}},e.component=function(n){return I.create(v.Nothing.value)(new O({fingerprint:v.Nothing.value,render:n}))},e.element=P,e.text=B,e.kids=function(n){return function(t){return t.value1 instanceof k?I.create(t.value0)(new k({fingerprint:t.value1.value0.fingerprint,tagName:t.value1.value0.tagName,props:t.value1.value0.props,handlers:t.value1.value0.handlers,children:n,didCreate:t.value1.value0.didCreate,didUpdate:t.value1.value0.didUpdate,didDelete:t.value1.value0.didDelete})):t}},e.prop=function(n){return function(t){return function(e){return e.value1 instanceof k?I.create(e.value0)(new k({fingerprint:e.value1.value0.fingerprint,tagName:e.value1.value0.tagName,props:w.insert(n)(t)(e.value1.value0.props),handlers:e.value1.value0.handlers,children:e.value1.value0.children,didCreate:e.value1.value0.didCreate,didUpdate:e.value1.value0.didUpdate,didDelete:e.value1.value0.didDelete})):e}}},e.handle=function(n){return function(t){return function(e){return e.value1 instanceof k?I.create(e.value0)(new k({fingerprint:e.value1.value0.fingerprint,tagName:e.value1.value0.tagName,props:e.value1.value0.props,handlers:w.insert(n)(t)(e.value1.value0.handlers),children:e.value1.value0.children,didCreate:e.value1.value0.didCreate,didUpdate:e.value1.value0.didUpdate,didDelete:e.value1.value0.didDelete})):e}}},e.useValue=function(n){return function(t){return a.bind(o.bindReaderT(y.bindEffect))(i.ask(o.monadAskReaderT(y.monadEffect)))((function(e){return o.withReaderT(d.const(e))(g.liftEffect(o.monadEffectReader(g.monadEffectEffect))(e.selectValue(n)(t)))}))}},e.useUpdater=function(n){return function(t){return a.bind(o.bindReaderT(y.bindEffect))(i.ask(o.monadAskReaderT(y.monadEffect)))((function(e){return r.pure(o.applicativeReaderT(y.applicativeEffect))(e.updateValue(n)(t))}))}},e.mount=function(n){return function(t){return function(){var e=x.createStore(),r=M.mountStyler(),u=K(n)();return d.flip(o.runReaderT)({store:e,styler:r,isSvg:!1})(en({current:v.Nothing.value,next:new v.Just(u),parentNode:t,nodeIndex:0,moveIndex:v.Nothing.value}))()}}},e.applicativeRender=$,e.bindRender=X}(n),function(n){"use strict";n["Grain.Markup.Element"]=n["Grain.Markup.Element"]||{};var t=n["Grain.Markup.Element"],e=n["Grain.UI"],r=e.element("ul"),u=e.element("p"),a=e.element("main"),i=e.element("li"),o=e.element("img"),c=e.element("header"),f=e.element("h3"),l=e.element("h2"),s=e.element("h1"),d=e.element("div"),p=e.element("a");t.h1=s,t.h2=l,t.h3=f,t.div=d,t.p=u,t.a=p,t.ul=r,t.li=i,t.img=o,t.header=c,t.main_=a}(n),function(n){"use strict";n["Grain.Markup.Handler"]=n["Grain.Markup.Handler"]||{};var t=n["Grain.Markup.Handler"],e=n["Grain.UI"].handle("onclick");t.onClick=e}(n),function(n){"use strict";n["Grain.Markup.Prop"]=n["Grain.Markup.Prop"]||{};var t=n["Grain.Markup.Prop"],e=n["Grain.UI"],r=e.prop("src"),u=e.prop("href"),a=e.prop("css"),i=e.prop("className"),o=e.prop("alt");t.css=a,t.className=i,t.href=u,t.src=r,t.alt=o}(n),function(n){"use strict";n["Grain.TypeRef"]=n["Grain.TypeRef"]||{};var t=n["Grain.TypeRef"],e=n["Unsafe.Coerce"].unsafeCoerce;t.fromConstructor=e}(n),function(n){"use strict";n._querySelector=function(n){return function(t){return function(){return t.querySelector(n)}}}}(n["Web.DOM.ParentNode"]=n["Web.DOM.ParentNode"]||{}),function(n){"use strict";n["Web.DOM.ParentNode"]=n["Web.DOM.ParentNode"]||{};var t=n["Web.DOM.ParentNode"],e=n["Web.DOM.ParentNode"],r=n["Data.Functor"],u=n["Data.Nullable"],a=n.Effect;t.querySelector=function(n){var t=r.map(a.functorEffect)(u.toMaybe),i=e._querySelector(n);return function(n){return t(i(n))}}}(n),function(n){"use strict";n.Main=n.Main||{};var t=n.Main,e=n["Control.Applicative"],r=n["Control.Bind"],u=n["Data.Eq"],a=n["Data.Function"],i=n["Data.Functor"],o=n["Data.Maybe"],c=n["Data.Unit"],f=n.Effect,l=n["Grain.Class"],s=n["Grain.Class.LProxy"],d=n["Grain.Markup.Element"],p=n["Grain.Markup.Handler"],v=n["Grain.Markup.Prop"],m=n["Grain.TypeRef"],b=n["Grain.UI"],h=n["Web.DOM.Element"],E=n["Web.DOM.ParentNode"],y=n["Web.HTML"],g=n["Web.HTML.HTMLDocument"],D=n["Web.HTML.Window"],w=function(){function n(){}return n.value=new n,n}(),C=function(){function n(){}return n.value=new n,n}(),x=b.kids([b.kids([b.text("業務")])(d.h2),b.kids([b.text("以下はフリーランスとしての業務の例です。")])(d.p),b.kids([b.kids([b.text("フロントエンド環境の刷新(CoffeeScriptからの移行やwebpackへの移行等)")])(d.li),b.kids([b.text("React/Reduxをベースとした、手数と設計負担を減らし、且つ、一様なコードを書くための仕組み化")])(d.li),b.kids([b.text("データ分析基盤の構築")])(d.li),b.kids([b.text("ドメインやシステムの都合上手を出しにくい、負債になっているテーブル群の全面的な再設計と実装とデータマイグレーション")])(d.li),b.kids([b.text("AWSからGCPへのインフラ移行(主にGCP側やアプリケーションの修正、移行作業)")])(d.li),b.kids([b.text("負債の溜まった決済基盤の全面的な再設計と実装")])(d.li),b.kids([b.text("各種パフォーマンスチューニング")])(d.li),b.kids([b.text("機械学習を用いた自然言語分野における分類器の作成とそれを用いたアプリケーションやインフラの構築")])(d.li),b.kids([b.text("ざっくり要望をもらって、一人でサービスをリリース")])(d.li),b.kids([b.text("PureScriptの導入")])(d.li),b.kids([b.text("WebRTCを用いたシステムの開発")])(d.li)])(d.ul),b.kids([b.text("など、多義に渡ります。")])(d.p),b.kids([b.text("技術的課題のタスクは特性上ソロあるいはほぼソロであたるような業務が多めですが、複数人での通常の機能開発もやります。")])(d.p),b.kids([b.text("仕事のご依頼")])(d.h2),b.kids([b.text("TwitterのDMにて受け付けております。")])(d.p)])(d.div),M="\n  body {\n    margin: 0;\n    font-family: 'Montserrat', 'M PLUS Rounded 1c', sans-serif;\n    color: #111111;\n    background-color: #fcfcfc;\n  }\n  p, li {\n    color: #333333;\n  }\n  a {\n    cursor: pointer;\n    text-decoration: none;\n  }\n  .& {\n    width: 720px;\n    margin: 64px auto;\n  }\n  ",T="\n  .& {\n    padding: 0 160px;\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    margin-bottom: 64px;\n  }\n  ",F="\n  .& {\n    width: 100%;\n    height: 100%;\n  }\n  ",S="\n  .& {\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n  }\n  ",A="\n  .& {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    width: 48px;\n    height: 48px;\n    border-radius: 50%;\n    overflow: hidden;\n  }\n  ",R="\n  .& {\n    text-align: center;\n  }\n  ",N=new s.LocalGrain((function(n){return e.pure(f.applicativeEffect)(w.value)}),(function(n){return m.fromConstructor(w.value)})),I="\n  .& {\n    font-size: 24px;\n    margin-right: 16px;\n  }\n  .&:hover {\n    font-weight: bold;\n  }\n  .&.active {\n    pointer-events: none;\n    font-weight: bold;\n  }\n  .&:last-of-type {\n    margin-right: 0;\n  }\n  ",U=b.kids([b.kids([b.text("所属")])(d.h2),b.kids([b.text("フリーランス")])(d.p),b.kids([b.text("職種")])(d.h2),b.kids([b.text("Webエンジニア")])(d.p),b.kids([b.text("スキル")])(d.h2),b.kids([b.text("フロントエンドからインフラまでやります。")])(d.p),b.kids([b.text("仕事上ではJavaScript, TypeScript, Flow, Ruby, Goを使う機会が多いです。")])(d.p),b.kids([b.text("PureScriptを最も好んでおり、")])(d.p),b.kids([b.text("仮想DOMや、サーバー向けライブラリなどのパッケージをつくっています。")])(d.p),b.kids([b.text("インフラについては最近はもっぱらGCPとりわけGKEを使います。")])(d.p)])(d.div),k="\n  .& {\n    width: 150%;\n    height: 150%;\n  }\n  ",O="\n  .& {\n    font-weight: normal;\n    text-align: center;\n    margin: 0 0 64px;\n  }\n  ",W=new u.Eq((function(n){return function(t){return n instanceof w&&t instanceof w||n instanceof C&&t instanceof C}})),G="\n  .& {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    width: 128px;\n    height: 128px;\n    border-radius: 8px;\n    overflow: hidden;\n  }\n  ",L=b.component(r.bind(b.bindRender)(b.useValue(l.grainLProxy(N))(s.LProxy.value))((function(n){return r.bind(b.bindRender)(b.useUpdater(l.grainLProxy(N))(s.LProxy.value))((function(t){var r=t(a.const(C.value)),i=t(a.const(w.value));return e.pure(b.applicativeRender)(b.kids([b.kids([b.kids([b.text("oreshinya.github.io")])(v.css(O)(d.h1)),b.kids([b.kids([v.alt("Profile")(v.src("assets/profile-95ce79228d13fca34a9ea2babd40aa2b.jpg")(v.css("\n  .& {\n    width: 100%;\n  }\n  ")(d.img)))])(v.css(G)(d.div)),b.kids([b.kids([b.text("ID")])(d.h3),b.kids([b.text("oreshinya")])(d.p),b.kids([b.text("ソーシャルアカウント")])(d.h3),b.kids([b.kids([v.alt("Twitter")(v.src("assets/twitter-f6fd11f2ea06803ed09fbab0a674fdca.svg")(v.css(F)(d.img)))])(v.href("https://twitter.com/oreshinya")(v.css(A)(d.a))),b.kids([v.alt("Github")(v.src("assets/github-db756ab5247204a9b3c4150492d97c9d.svg")(v.css(F)(d.img)))])(v.href("https://github.com/oreshinya")(v.css(A)(d.a))),b.kids([v.alt("Hatena")(v.src("assets/hatena-83cbfbbcda1f400da3b7928ff6e02258.svg")(v.css(k)(d.img)))])(v.href("https://oreshinya.hatenablog.com")(v.css(A)(d.a)))])(v.css(S)(d.div))])(d.div)])(v.css(T)(d.div)),b.kids([b.kids([b.text("インフォメーション")])(p.onClick(a.const(i))(v.className(u.eq(W)(n)(w.value)?"active":"")(v.css(I)(d.a)))),b.kids([b.text("業務について")])(p.onClick(a.const(r))(v.className(u.eq(W)(n)(C.value)?"active":"")(v.css(I)(d.a))))])(v.css(R)(d.div))])(d.header),b.kids([function(){if(n instanceof w)return b.key("info")(U);if(n instanceof C)return b.key("work")(x);throw new Error("Failed pattern match at Main (line 77, column 11 - line 79, column 38): "+[n.constructor.name])}()])(d.main_)])(v.css(M)(d.div)))}))})));t.Info=w,t.Work=C,t.main=function(){var n=r.bind(f.bindEffect)(i.mapFlipped(f.functorEffect)(r.bind(f.bindEffect)(y.window)(D.document))(g.toParentNode))(E.querySelector("#app"))();if(n instanceof o.Nothing)return c.unit;if(n instanceof o.Just)return b.mount(L)(h.toNode(n.value0))();throw new Error("Failed pattern match at Main (line 28, column 3 - line 31, column 29): "+[n.constructor.name])},t.view=L,t.info=U,t.work=x,t.wholeCSS=M,t.h1CSS=O,t.topCSS=T,t.avatarCSS=G,t.avatarImgCSS="\n  .& {\n    width: 100%;\n  }\n  ",t.socialContainerCSS=S,t.socialCSS=A,t.socialImgCSS=F,t.hatenaCSS=k,t.middleCSS=R,t.linkCSS=I,t.eqTab=W,t.localGrainTab=N}(n),n.Main.main()}();